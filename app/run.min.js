(function(){/*
 MIT License (c) copyright B Cavalier & J Hann  MIT License (c) copyright 2011-2013 original author or authors  MIT License (c) copyright 2011-2013 original author or authors  MIT License (c) copyright B Cavalier & J Hann  MIT License (c) copyright B Cavalier & J Hann  MIT License (c) copyright 2010-2013 original author or authors  MIT License (c) copyright B Cavalier & J Hann  MIT License (c) copyright B Cavalier & J Hann  MIT License (c) copyright B Cavalier & J Hann  MIT License (c) copyright B Cavalier & J Hann  MIT License (c) copyright B Cavalier & J Hann  MIT License (c) copyright original author or authors  MIT License (c) copyright B Cavalier & J Hann  MIT License (c) copyright B Cavalier & J Hann  MIT License (c) copyright B Cavalier & J Hann  MIT License (c) copyright B Cavalier & J Hann  MIT License (c) copyright B Cavalier & J Hann  MIT License (c) copyright B Cavalier & J Hann  MIT License (c) copyright B Cavalier & J Hann  MIT License (c) copyright B Cavalier & J Hann  MIT License (c) copyright B Cavalier & J Hann  MIT License (c) copyright B Cavalier & J Hann  MIT License (c) copyright B Cavalier & J Hann  MIT License (c) copyright 2010-2013 original author or authors  MIT License (c) copyright B Cavalier & J Hann  MIT License (c) copyright B Cavalier & J Hann  MIT License (c) copyright B Cavalier & J Hann  MIT License (c) copyright B Cavalier & J Hann  MIT License (c) copyright B Cavalier & J Hann  MIT License (c) copyright 2010-2013 original author or authors  MIT License (c) copyright B Cavalier & J Hann  MIT License (c) copyright B Cavalier & J Hann  MIT License (c) copyright B Cavalier & J Hann  MIT License (c) copyright B Cavalier & J Hann  MIT License (c) copyright B Cavalier & J Hann  MIT License (c) copyright B Cavalier & J Hann  MIT License (c) copyright B Cavalier & J Hann  MIT License (c) copyright B Cavalier & J Hann  MIT License (c) copyright B Cavalier & J Hann */
(function(a){a({packages:[{name:"contacts",location:"sample-apps/contacts"},{name:"hello",location:"sample-apps/hello"},{name:"curl",location:"lib/curl/src/curl",main:"../curl"},{name:"wire",location:"lib/wire",main:"wire"},{name:"cola",location:"lib/cola",main:"cola"},{name:"when",location:"lib/when",main:"when"},{name:"meld",location:"lib/meld",main:"meld"},{name:"poly",location:"lib/poly"},{name:"highlight",location:"lib/highlight",main:"amd"}],preloads:["poly/object","poly/array","poly/function"]},
["wire!app/main"])})(curl);define("poly/lib/_base",["require","exports","module"],function(a,q){var d;d={}.toString;q.isFunction=function(a){return"function"==typeof a};q.isString=function(a){return"[object String]"==d.call(a)};q.toString=function(a){return d.apply(a)};q.createCaster=function(a,j){return function(e){if(null==e)throw new TypeError(j+" method called on null or undefined");return a(e)}}});
define("poly/function",["poly/lib/_base"],function(a){var q=[].slice,d=Function.prototype;a.isFunction(d.bind)||(a=function(a){var j=q.call(arguments,1),e=this,c=function(){},b=function(){return e.apply(this instanceof c?this:a||{},j.concat(q.call(arguments)))};c.prototype=this.prototype||{};b.prototype=new c;return b},d.bind=a);return{}});
define("poly/object",["poly/lib/_base"],function(){function a(g){return function(){throw Error("poly/object: "+g+" is not safely supported.");}}function q(g){return h[g]in j}function d(){}function f(g){var a=[],b;for(b in g)g.hasOwnProperty(b)&&a.push(b);return a}var j,e,c,b,h,l;j=Object;e=j.prototype;c="object"==typeof{}.__proto__?function(g){return g.__proto__}:function(g){return g.constructor?g.constructor.prototype:e};var m;if(function(){for(var g in{toString:1})return!1;return!0}){var r="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toString toLocaleString valueOf".split(" ");
m=function(g){for(var a=f(g),b=0,n;n=r[b++];)g.hasOwnProperty(n)&&a.push(n);return a}}else m=f;b=m;h={"object-create":"create","object-freeze":"freeze","object-isfrozen":"isFrozen","object-seal":"seal","object-issealed":"isSealed","object-getprototypeof":"getPrototypeOf","object-keys":"keys","object-getownpropertynames":"getOwnPropertyNames","object-defineproperty":"defineProperty","object-defineproperties":"defineProperties","object-isextensible":"isExtensible","object-preventextensions":"preventExtensions",
"object-getownpropertydescriptor":"getOwnPropertyDescriptor"};l={};q("object-create")||(Object.create=l.create=function(a,b){var c;if("object"!=typeof a)throw new TypeError("prototype is not of type Object or Null.");d.prototype=a;c=new d(b);d.prototype=null;1<arguments.length&&Object.defineProperties(c,b);return c});q("object-freeze")||(Object.freeze=l.freeze=function(a){return a});q("object-isfrozen")||(Object.isFrozen=l.isFrozen=function(){return!1});q("object-seal")||(Object.seal=l.seal=function(a){return a});
q("object-issealed")||(Object.isSealed=l.isSealed=function(){return!1});q("object-getprototypeof")||(Object.getPrototypeOf=l.getPrototypeOf=c);q("object-keys")||(Object.keys=b);q("object-getownpropertynames")||(Object.getOwnPropertyNames=l.getOwnPropertyNames=function(a){return b(a)});if(!q("object-defineproperty")||!q("object-defineproperties"))Object.defineProperty=l.defineProperty=function(a,b,c){a[b]=c&&c.value;return a};if(!q("object-defineproperties")||!q("object-create"))Object.defineProperties=
l.defineProperties=function(a,c){var l,n;for(l=b(c);n=l.pop();)Object.defineProperty(a,n,c[n]);return a};q("object-isextensible")||(Object.isExtensible=l.isExtensible=function(a){var b="_poly_";try{for(;b in a;)b+="_";a[b]=1;return a.hasOwnProperty(b)}catch(c){return!1}finally{try{delete a[b]}catch(n){}}});q("object-preventextensions")||(Object.preventExtensions=l.preventExtensions=function(a){return a});q("object-getownpropertydescriptor")||(Object.getOwnPropertyDescriptor=l.getOwnPropertyDescriptor=
function(a,b){return a.hasOwnProperty(b)?{value:a[b],enumerable:!0,configurable:!0,writable:!0}:void 0});return{failIfShimmed:function(b){var c;c="function"==typeof b?b:function(){return b};for(var h in l)Object[h]=c(h)?a(h):l[h]}}});
define("poly/array",["poly/lib/_base"],function(a){function q(b){return"[object String]"==a.toString(b)?b.split(""):m(b)}function d(a){return"[object Array]"==h.call(a)}function f(c){return a.isFunction(b[l[c]])}function j(){return 1}function e(a){return a}function c(b,c,k,g,l,h){var m;b=q(b);m=b.length>>>0;l===p&&(l=0);h||(h=1);m=0>h?-1:m;if(!a.isFunction(c))throw new TypeError(c+" is not a function");if(l==m)return!1;if(l<=m^0<h)throw new TypeError("Invalid length or starting index");for(;l!=m;l+=
h)if(l in b&&!k(c.call(g,b[l],l,b),l,b[l]))return!1;return!0}var b=Array.prototype,h={}.toString,l,m,r,g,p;l={"array-foreach":"forEach","array-every":"every","array-some":"some","array-map":"map","array-filter":"filter","array-reduce":"reduce","array-reduceright":"reduceRight","array-indexof":"indexOf","array-lastindexof":"lastIndexOf"};m=a.createCaster(Object,"Array");f("array-foreach")||(b.forEach=function(a){c(this,a,j,arguments[1])});f("array-every")||(b.every=function(a){return c(this,a,e,arguments[1])});
f("array-some")||(b.some=function(a){return c(this,a,function(a){return!a},arguments[1])});f("array-map")||(b.map=function(a){var b;b=Array(this.length);c(this,a,function(a,c){b[c]=a;return 1},arguments[1]);return b});f("array-filter")||(b.filter=function(a,b){var k;k=[];c(this,a,function(a,b,c){a&&k.push(c);return 1},b);return k});if(!f("array-reduce")||!f("array-reduceright"))r=function(a,b,k,l){var g,h,m;h=m=0<b?-1:q(this).length>>>0;if(l)g=k;else if(c(this,e,function(a,b){g=a;m=b},null,h+b,b),
m==h)throw new TypeError;c(this,function(b,k,c){g=a(g,b,k,c)},j,null,m+b,b);return g},f("array-reduce")||(b.reduce=function(a){return r.call(this,a,1,arguments[1],1<arguments.length)}),f("array-reduceright")||(b.reduceRight=function(a){return r.call(this,a,-1,arguments[1],1<arguments.length)});if(!f("array-indexof")||!f("array-lastindexof"))g=function(a,b,k,g){var l=q(a).length>>>0,h=-1;k=isNaN(k)?g?0:l-1:Number(k);0>k&&(k=l+k-1);c(a,e,function(a,k){a===b&&(h=k);return-1==h},null,k,g?1:-1);return h},
f("array-indexof")||(b.indexOf=function(a){return g(this,a,arguments[1],!0)}),f("array-lastindexof")||(b.lastIndexOf=function(a){return g(this,a,arguments[1],!1)});Array.isArray||(Array.isArray=d)});define("curl/plugin/i18n!app/subheader/strings",function(){return{phrases:["The <em>un</em>framework: Free your code","Create, modify, and <em>test</em> with ease","Scale your team as your app grows","Use the web. Don't circumvent it"]}});
define("curl/plugin/i18n!hello/app/strings.js",function(){return{name:"What's your name?",hint:"Type your name",hello:"Hello"}});define("curl/plugin/i18n!contacts/app/edit/strings",function(){return{firstName:"First Name",lastName:"Last Name",phone:"Phone Number",email:"E-Mail",save:"Save",clear:"Clear"}});
define("app/hello-sample/spec",{helloApp:{wire:{spec:"hello/app/main",provide:{root:{$ref:"dom.first!.cujo-hello-container .app"}}}},helloCode:{wire:{spec:"app/tabs/spec",provide:{root:{$ref:"dom.first!.cujo-hello-container .code"},collection:{$ref:"helloSources"}}}},helloSources:{create:"cola/Collection"},helloSourcesData:{create:{module:"cola/adapter/Array",args:[[{id:1,name:"template.html",content:{module:"highlight!hello/app/template.html"}},{id:2,name:"controller.js",content:{module:"highlight!hello/app/controller.js"}},
{id:3,name:"strings.js",content:{module:"highlight!hello/app/strings.js"}},{id:4,name:"main.js",content:{module:"highlight!hello/app/main.js"}}]]},bind:{$ref:"helloSources"}},$plugins:["wire/dom","wire/dom/render","wire/on","cola"]});
define("app/contacts-sample/spec",{contactsContainer:{$ref:"dom.first!.cujo-contacts-container"},contactsAppContainer:{render:{module:"text!app/contacts-sample/template.html"},insert:{last:{$ref:"dom.first!.cujo-contacts-container .app"}}},contactsApp:{wire:{spec:"contacts/app/main",provide:{root:{$ref:"contactsAppContainer"}}}},contactsCode:{wire:{spec:"app/tabs/spec",provide:{root:{$ref:"dom.first!.code",at:{$ref:"contactsContainer"}},collection:{$ref:"contactsSources"}}}},contactsSources:{create:"cola/Collection"},
contactsSourcesData:{create:{module:"cola/adapter/Array",args:[[{id:1,name:"controller.js",content:{module:"highlight!contacts/app/controller.js"}},{id:2,name:"list/template.html",content:{module:"highlight!contacts/app/list/template.html"}},{id:3,name:"edit/template.html",content:{module:"highlight!contacts/app/edit/template.html"}},{id:4,name:"main.js",content:{module:"highlight!contacts/app/main.js"}}]]},bind:{$ref:"contactsSources"}},$plugins:["wire/dom","wire/dom/render","wire/on","cola"]});
define("app/homepage-sample/spec",{homepageCode:{wire:{spec:"app/tabs/spec",provide:{root:{$ref:"dom.first!.cujo-homepage-container .code"},collection:{$ref:"homepageSources"}}}},homepageImage:{element:{$ref:"dom.first!.cujo-homepage-container .screenshot"},properties:{src:"assets/img/cujojs-com.png"}},homepageSources:{create:"cola/Collection"},homepageSourcesData:{create:{module:"cola/adapter/Array",args:[[{id:1,name:"main.js",content:{module:"highlight!app/main.js"}},{id:2,name:"selectText.js",
content:{module:"highlight!app/subheader/selectText.js"}},{id:3,name:"selectText-test.js",content:{module:"highlight!test/subheader/selectText-test.js"}}]]},bind:{$ref:"homepageSources"}},$plugins:["wire/dom","wire/on","cola"]});(function(a){a("app/subheader/selectText",function(){function a(d){return Math.floor(Math.random()*d)}return function(d,f){var j=d&&d.length;return j?d[(f||a)(j)]:""}})})("function"===typeof define&&define.amd?define:function(a){module.exports=a()});
define("hello/app/main",{controller:{create:"hello/app/controller",properties:{node:{$ref:"first!span",at:"view"}},on:{view:{input:"update"}}},view:{render:{template:{module:"text!hello/app/template.html"},replace:{module:"i18n!hello/app/strings.js"}},insert:{last:"root"}},$plugins:["wire/dom","wire/dom/render","wire/on"]});
define("app/tabs/spec",{controller:{create:"app/tabs/controller",properties:{querySelector:{$ref:"dom.first!"},tabs:{$ref:"tabs"},stack:{$ref:"stack"}},on:{tabs:{"click:.item":"activateTab"}},after:{"collection.onSync":"init"}},tabs:{render:{template:{module:"text!app/tabs/tabs.html"},css:{module:"css!app/tabs/structure.css"}},insert:{last:"root"},bind:{to:{$ref:"collection"},bindings:{name:".tab-title"}}},stack:{render:{template:{module:"text!app/tabs/stack.html"}},insert:{after:"tabs"},bind:{to:{$ref:"collection"},
bindings:{content:{attr:"innerHTML"}}}},plugins:["wire/dom","wire/dom/render","wire/on","wire/aop","cola"]});define("highlight/amd!hello/app/template.html",function(){return'<pre><code class="xml"><span class="tag">&lt;<span class="title">div</span>&gt;</span>\n    <span class="tag">&lt;<span class="title">label</span>&gt;</span>${name} <span class="tag">&lt;<span class="title">input</span> <span class="attribute">placeholder</span>=<span class="value">"${hint}"</span>/&gt;</span><span class="tag">&lt;/<span class="title">label</span>&gt;</span>\n    <span class="tag">&lt;<span class="title">p</span>&gt;</span>${hello} <span class="tag">&lt;<span class="title">span</span>&gt;</span><span class="tag">&lt;/<span class="title">span</span>&gt;</span>!<span class="tag">&lt;/<span class="title">p</span>&gt;</span>\n<span class="tag">&lt;/<span class="title">div</span>&gt;</span></code></pre>'});
define("highlight/amd!hello/app/controller.js",function(){return'<pre><code class="javascript">define(<span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>\n  <span class="keyword">return</span> {\n    update: <span class="function"><span class="keyword">function</span><span class="params">(e)</span> {</span>\n      <span class="keyword">this</span>.node.innerHTML = e.target.value;\n    }\n  };\n});</code></pre>'});
define("highlight/amd!hello/app/strings.js",function(){return'<pre><code class="javascript">define({ <span class="comment">// i18n</span>\n  name: <span class="string">\'What\'s your name?\'</span>,\n  hint: <span class="string">\'Type your name\'</span>,\n  hello: <span class="string">\'Hello\'</span>\n});</code></pre>'});define("highlight/amd!hello/app/main.js",function(){return'<pre><code class="javascript">define({ <span class="comment">// Wire spec</span>\n\n  controller: {\n    create: <span class="string">\'hello/app/controller\'</span>,\n    properties: {\n      node: { $ref: <span class="string">\'first!span\'</span>, at: <span class="string">\'view\'</span> }\n    },\n    on: { view: { <span class="string">\'input\'</span>: <span class="string">\'update\'</span> } }\n  },\n\n  view: {\n    render: {\n      template: { module: <span class="string">\'text!hello/app/template.html\'</span> },\n      replace: { module: <span class="string">\'i18n!hello/app/strings.js\'</span> }\n    },\n    insert: { last: <span class="string">\'root\'</span> }\n  },\n\n  $plugins: [<span class="string">\'wire/dom\'</span>, <span class="string">\'wire/dom/render\'</span>, <span class="string">\'wire/on\'</span>]\n});</code></pre>'});
define("contacts/app/main",{contactsCollection:{wire:"contacts/app/collection/spec"},controller:{create:"contacts/app/controller",properties:{_form:{$ref:"editView"},_updateForm:{$ref:"form.setValues"}},connect:{"contactsCollection.onEdit":"editContact"}},editView:{render:{template:{module:"text!contacts/app/edit/template.html"},replace:{module:"i18n!contacts/app/edit/strings"},css:{module:"css!contacts/app/edit/structure.css"}},insert:{after:"listView"},on:{submit:"form.getValues | contactsCollection.update"},
connect:{"contactsCollection.onChange":"reset"}},listView:{render:{template:{module:"text!contacts/app/list/template.html"},css:{module:"css!contacts/app/list/structure.css"}},insert:{first:{$ref:"dom.first!.contacts-view-container",at:"root"}},on:{"click:.contact":"contactsCollection.edit","click:.remove":"contactsCollection.remove"},bind:{to:{$ref:"contactsCollection"},comparator:{module:"contacts/app/list/compareByLastFirst"},bindings:{firstName:".first-name",lastName:".last-name"}}},theme:{module:"css!contacts/theme/basic.css"},
form:{module:"cola/dom/form"},$plugins:["wire/dom","wire/dom/render","wire/on","wire/connect","cola"]});define("highlight/amd!contacts/app/controller.js",function(){return'<pre><code class="javascript">define(<span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>\n\n  <span class="keyword">return</span> {\n    editContact: <span class="function"><span class="keyword">function</span><span class="params">(contact)</span> {</span>\n      <span class="keyword">this</span>._updateForm(<span class="keyword">this</span>._form, contact);\n    }\n  };\n\n});</code></pre>'});
define("highlight/amd!contacts/app/list/template.html",function(){return'<pre><code class="xml"><span class="tag">&lt;<span class="title">ul</span> <span class="attribute">class</span>=<span class="value">"contact-list-view"</span>&gt;</span>\n    <span class="tag">&lt;<span class="title">li</span> <span class="attribute">class</span>=<span class="value">"contact"</span>&gt;</span>\n        <span class="tag">&lt;<span class="title">span</span> <span class="attribute">class</span>=<span class="value">"remove"</span>&gt;</span>&amp;times;<span class="tag">&lt;/<span class="title">span</span>&gt;</span>\n        <span class="tag">&lt;<span class="title">span</span> <span class="attribute">class</span>=<span class="value">"first-name"</span>&gt;</span><span class="tag">&lt;/<span class="title">span</span>&gt;</span>\n        <span class="tag">&lt;<span class="title">span</span> <span class="attribute">class</span>=<span class="value">"last-name"</span>&gt;</span><span class="tag">&lt;/<span class="title">span</span>&gt;</span>\n    <span class="tag">&lt;/<span class="title">li</span>&gt;</span>\n<span class="tag">&lt;/<span class="title">ul</span>&gt;</span></code></pre>'});
define("highlight/amd!contacts/app/edit/template.html",function(){return'<pre><code class="xml"><span class="tag">&lt;<span class="title">form</span> <span class="attribute">class</span>=<span class="value">"edit-contact-view"</span>&gt;</span>\n    <span class="tag">&lt;<span class="title">fieldset</span>&gt;</span>\n        <span class="tag">&lt;<span class="title">label</span>&gt;</span>\n            <span class="tag">&lt;<span class="title">span</span>&gt;</span>${firstName}<span class="tag">&lt;/<span class="title">span</span>&gt;</span>\n            <span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"text"</span> <span class="attribute">class</span>=<span class="value">"first-name"</span> <span class="attribute">name</span>=<span class="value">"firstName"</span>/&gt;</span>\n        <span class="tag">&lt;/<span class="title">label</span>&gt;</span>\n        <span class="tag">&lt;<span class="title">label</span>&gt;</span>\n            <span class="tag">&lt;<span class="title">span</span>&gt;</span>${lastName}<span class="tag">&lt;/<span class="title">span</span>&gt;</span>\n            <span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"text"</span> <span class="attribute">class</span>=<span class="value">"last-name"</span> <span class="attribute">name</span>=<span class="value">"lastName"</span>/&gt;</span>\n        <span class="tag">&lt;/<span class="title">label</span>&gt;</span>\n        <span class="tag">&lt;<span class="title">label</span>&gt;</span>\n            <span class="tag">&lt;<span class="title">span</span>&gt;</span>${phone}<span class="tag">&lt;/<span class="title">span</span>&gt;</span>\n            <span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"text"</span> <span class="attribute">name</span>=<span class="value">"phone"</span>&gt;</span>\n        <span class="tag">&lt;/<span class="title">label</span>&gt;</span>\n        <span class="tag">&lt;<span class="title">label</span>&gt;</span>\n            <span class="tag">&lt;<span class="title">span</span>&gt;</span>${email}<span class="tag">&lt;/<span class="title">span</span>&gt;</span>\n            <span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"text"</span> <span class="attribute">name</span>=<span class="value">"email"</span>&gt;</span>\n        <span class="tag">&lt;/<span class="title">label</span>&gt;</span>\n    <span class="tag">&lt;/<span class="title">fieldset</span>&gt;</span>\n    <span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"text"</span> <span class="attribute">name</span>=<span class="value">"id"</span>/&gt;</span>\n    <span class="tag">&lt;<span class="title">fieldset</span> <span class="attribute">class</span>=<span class="value">"controls"</span>&gt;</span>\n        <span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"submit"</span> <span class="attribute">value</span>=<span class="value">"${save}"</span>&gt;</span>\n        <span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"reset"</span> <span class="attribute">value</span>=<span class="value">"${clear}"</span>&gt;</span>\n    <span class="tag">&lt;/<span class="title">fieldset</span>&gt;</span>\n<span class="tag">&lt;/<span class="title">form</span>&gt;</span></code></pre>'});
define("highlight/amd!contacts/app/main.js",function(){return'<pre><code class="javascript">define({<span class="comment">// Wire spec</span>\n\n  contactsCollection: { wire: <span class="string">\'contacts/app/collection/spec\'</span> },\n\n  controller: {\n    create: <span class="string">\'contacts/app/controller\'</span>,\n    properties: {\n      _form: { $ref: <span class="string">\'editView\'</span> },\n      _updateForm: { $ref: <span class="string">\'form.setValues\'</span> }\n    },\n    connect: {\n      <span class="string">\'contactsCollection.onEdit\'</span>: <span class="string">\'editContact\'</span>\n    }\n  },\n\n  editView: {\n    render: {\n      template: { module: <span class="string">\'text!contacts/app/edit/template.html\'</span> },\n      replace: { module: <span class="string">\'i18n!contacts/app/edit/strings\'</span> },\n      css: { module: <span class="string">\'css!contacts/app/edit/structure.css\'</span> }\n    },\n    insert: { after: <span class="string">\'listView\'</span> },\n    on: {\n      submit: <span class="string">\'form.getValues | contactsCollection.update\'</span>\n    },\n    connect: {\n      <span class="string">\'contactsCollection.onChange\'</span>: <span class="string">\'reset\'</span>\n    }\n  },\n\n  listView: {\n    render: {\n      template: {module: <span class="string">\'text!contacts/app/list/template.html\'</span> },\n      css: { module: <span class="string">\'css!contacts/app/list/structure.css\'</span> }\n    },\n    insert: {\n      first: { $ref: <span class="string">\'dom.first!.contacts-view-container\'</span>, at: <span class="string">\'root\'</span> }\n    },\n    on: {\n      <span class="string">\'click:.contact\'</span>: <span class="string">\'contactsCollection.edit\'</span>,\n      <span class="string">\'click:.remove\'</span>: <span class="string">\'contactsCollection.remove\'</span>\n    },\n    bind: {\n      to: { $ref: <span class="string">\'contactsCollection\'</span> },\n      comparator: { module: <span class="string">\'contacts/app/list/compareByLastFirst\'</span> },\n      bindings: {\n        firstName: <span class="string">\'.first-name\'</span>,\n        lastName: <span class="string">\'.last-name\'</span>\n      }\n    }\n  },\n\n  theme: { module: <span class="string">\'css!contacts/theme/basic.css\'</span> },\n  form: { module: <span class="string">\'cola/dom/form\'</span> },\n\n  $plugins: [<span class="string">\'wire/dom\'</span>,<span class="string">\'wire/dom/render\'</span>,<span class="string">\'wire/on\'</span>,<span class="string">\'wire/connect\'</span>,<span class="string">\'cola\'</span>]\n});</code></pre>'});
define("highlight/amd!app/main.js",function(){return'<pre><code class="javascript">define({ <span class="comment">// Wire spec</span>\n\n  helloSample: { wire: <span class="string">\'app/hello-sample/spec\'</span> },\n\n  contactsSample: { wire: <span class="string">\'app/contacts-sample/spec\'</span> },\n\n  homepageSample: { wire: <span class="string">\'app/homepage-sample/spec\'</span> },\n\n  subheaderStrings: { module: <span class="string">\'i18n!app/subheader/strings\'</span> },\n  subheaderText: {\n    create: {\n      module: <span class="string">\'app/subheader/selectText\'</span>,\n      args: { $ref: <span class="string">\'subheaderStrings.phrases\'</span> }\n    }\n  },\n\n  subheader: {\n    render: {\n      template: { module: <span class="string">\'text!app/subheader/template.html\'</span> },\n      replace: { text: { $ref: <span class="string">\'subheaderText\'</span> } },\n      at: { $ref: <span class="string">\'first!.subheader\'</span> }\n    }\n  },\n\n  highlightTheme: { module: <span class="string">\'css!highlight/github.css\'</span> },\n\n  $plugins: [\n    { module: <span class="string">\'wire/dom\'</span>, classes: { init: <span class="string">\'loading\'</span> } },\n    <span class="string">\'wire/dom/render\'</span>\n  ]\n});</code></pre>'});
define("highlight/amd!app/subheader/selectText.js",function(){return'<pre><code class="javascript">(<span class="function"><span class="keyword">function</span><span class="params">(define)</span> {</span>\ndefine(<span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>\n\n  <span class="comment">/**\n   * Selects a text string from the provided strings array\n   */</span>\n  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span><span class="params">(strings, selector)</span> {</span>\n    <span class="keyword">var</span> len = strings &amp;&amp; strings.length;\n    <span class="keyword">return</span> len ? strings[(selector || defaultSelector)(len)] : <span class="string">\'\'</span>;\n  };\n\n  <span class="function"><span class="keyword">function</span> <span class="title">defaultSelector</span><span class="params">(n)</span> {</span>\n    <span class="keyword">return</span> Math.floor(Math.random() * n);\n  }\n\n});\n}(<span class="keyword">typeof</span> define === <span class="string">\'function\'</span> &amp;&amp; define.amd ? define : <span class="function"><span class="keyword">function</span><span class="params">(factory)</span> {</span> module.exports = factory(); }));\n</code></pre>'});
define("highlight/amd!test/subheader/selectText-test.js",function(){return'<pre><code class="javascript">(<span class="function"><span class="keyword">function</span><span class="params">(define)</span> {</span>\ndefine(<span class="function"><span class="keyword">function</span><span class="params">(require)</span> {</span>\n\n  <span class="keyword">var</span> buster, selectText;\n\n  buster = require(<span class="string">\'buster\'</span>);\n  selectText = require(<span class="string">\'../../app/subheader/selectText\'</span>);\n\n  buster.testCase(<span class="string">\'subheader/selectText\'</span>, {\n    <span class="string">\'should return empty string when input is empty\'</span>: <span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>\n      assert.equals(selectText([]), <span class="string">\'\'</span>);\n    },\n\n    <span class="string">\'should return empty string when input not provided\'</span>: <span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>\n      assert.equals(selectText(), <span class="string">\'\'</span>);\n    },\n\n    <span class="string">\'should call provided selector function\'</span>: <span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>\n      <span class="keyword">var</span> spy, input;\n\n      input = [<span class="string">\'a\'</span>, <span class="string">\'b\'</span>, <span class="string">\'c\'</span>];\n      spy = <span class="keyword">this</span>.stub().returns(<span class="number">1</span>);\n\n      selectText(input, spy);\n      assert.calledOnceWith(spy, input.length);\n    },\n\n    <span class="string">\'should return selected string\'</span>: <span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>\n      <span class="keyword">var</span> spy, input;\n\n      input = [<span class="string">\'a\'</span>, <span class="string">\'b\'</span>, <span class="string">\'c\'</span>];\n      spy = <span class="keyword">this</span>.stub().returns(<span class="number">1</span>);\n\n      assert.equals(selectText(input, spy), <span class="string">\'b\'</span>);\n    }\n  });\n\n});\n}(<span class="keyword">typeof</span> define === <span class="string">\'function\'</span> &amp;&amp; define.amd ? define : <span class="function"><span class="keyword">function</span><span class="params">(factory)</span> {</span> module.exports = factory(require); }));\n\n</code></pre>'});
define("hello/app/controller",function(){return{update:function(a){this.node.innerHTML=a.target.value}}});define("curl/plugin/text!hello/app/template.html",function(){return'<div>\n    <label>${name} <input placeholder="${hint}"/></label>\n    <p>${hello} <span></span>!</p>\n</div>'});
(function(a){a("app/tabs/controller",function(){function a(j){var e=f.call(arguments,1);return function(){return j.apply(this,e.concat(f.call(arguments)))}}function d(a,e){var c=a.className;a.className=e.className;e.className=c;return e}var f=[].slice;return{querySelector:null,tabs:null,stack:null,activeClass:"active",idAttr:"data-cola-id",activateTab:function(a){a.preventDefault();var e=a.selectorTarget.getAttribute(this.idAttr);d(this._findActive(a.currentTarget),a.selectorTarget);d(this._findActiveStack(),
this._findStackByName(e))},init:function(){var d,e,c;d=this.querySelector;e="["+this.idAttr+'="';c="."+this.activeClass;this._findActive=a(d,c);this._findActiveStack=a(d,c,this.stack);this._findStackByName=function(a){return d(e+a+'"]',this.stack)};this._initActive(a(d,"["+this.idAttr+"]")," "+this.activeClass)},_initActive:function(a,e){a(this.tabs).className+=e;a(this.stack).className+=e}}})})("function"===typeof define&&define.amd?define:function(a){module.exports=a()});
define("curl/plugin/text!app/subheader/template.html",function(){return"<h2>${text}</h2>\n"});
define("contacts/app/collection/spec",{$exports:{$ref:"contacts"},contacts:{create:{module:"cola/Collection",args:{strategyOptions:{validator:{module:"contacts/app/collection/validateContact"}}}},before:{add:"cleanContact | generateMetadata",update:"cleanContact | generateMetadata"}},contactStore:{create:{module:"cola/adapter/LocalStorage",args:"contacts-demo"},bind:{$ref:"contacts"}},cleanContact:{module:"contacts/app/collection/cleanContact"},generateMetadata:{module:"contacts/app/collection/generateMetadata"},
$plugins:["wire/dom","wire/on","wire/aop","cola"]});define("contacts/app/controller",function(){return{editContact:function(a){this._updateForm(this._form,a)}}});define("curl/plugin/text!contacts/app/edit/template.html",function(){return'<form class="edit-contact-view">\n    <fieldset>\n        <label>\n            <span>${firstName}</span>\n            <input type="text" class="first-name" name="firstName"/>\n        </label>\n        <label>\n            <span>${lastName}</span>\n            <input type="text" class="last-name" name="lastName"/>\n        </label>\n        <label>\n            <span>${phone}</span>\n            <input type="text" name="phone">\n        </label>\n        <label>\n            <span>${email}</span>\n            <input type="text" name="email">\n        </label>\n    </fieldset>\n    <input type="text" name="id"/>\n    <fieldset class="controls">\n        <input type="submit" value="${save}">\n        <input type="reset" value="${clear}">\n    </fieldset>\n</form>'});
define("curl/plugin/text!contacts/app/list/template.html",function(){return'<ul class="contact-list-view">\n    <li class="contact">\n        <span class="remove">&times;</span>\n        <span class="first-name"></span>\n        <span class="last-name"></span>\n    </li>\n</ul>'});
define("contacts/app/list/compareByLastFirst",function(){function a(a,d){null==a&&(a="");null==d&&(d="");a=a.toLowerCase();d=d.toLowerCase();return a<d?-1:a>d?1:0}return function(q,d){var f=a(q.lastName,d.lastName);0===f&&(f=a(q.firstName,d.firstName));return f}});
(function(a){a("cola/dom/form",function(){function a(c,h){var e;e=Array.isArray(h)?function(a,b){return 0<=a.indexOf(b.value)}:function(a,b){return b.value==a};b.call(c,function(a,b){j(a)?a.checked=e(h,a):a.value=null==h[b]?"":h[b]})}function d(a,b){j(a)?a.checked=!!b:a.multiple&&a.options?Array.isArray(b)?f(a,b):a.value=null==b?"":b:a.value=null==b?"":b}function f(a,b){var c,g,h;h=a.options;for(c=0;g=h[c++];)0<=b.indexOf(g.value)&&(g.selected=!0)}function j(a){return"radio"==a.type||"checkbox"==
a.type}function e(a){var b,c,g;b=[];a=a.options;for(c=0;g=a[c++];)g.selected&&b.push(g.value);return b}function c(){return!0}var b,h;b=Array.prototype.forEach;h=Array.prototype.slice;return{getValues:function(a,b){var d,g,p,f,n,k,s;g=a.selectorTarget||a.target||a;"function"!==typeof b&&(b=c);d={};g=g.elements;p={};for(f=0;n=g[f++];)if((k=n.name)&&"value"in n&&b(n)){s=n.value;if("radio"==n.type)n.checked?d[k]=s:k in p||(d[k]=!1);else if("checkbox"==n.type)k in p?n.checked&&(d[k]=k in d&&!1!==d[k]?
[].concat(d[k],s):[s]):d[k]=n.attributes.value?!!n.checked&&s:!!n.checked;else if("file"==n.type){if(!(k in p)){s=d;var j=k;n="files"in n?n.multiple?h.call(n.files):n.files[0]:n.value;s[j]=n}}else d[k]=n.multiple&&n.options?e(n):s;p[k]=k}return d},getMultiSelectValue:e,setValues:function(b,h,e){var g;g=b.elements;"function"!==typeof e&&(e=c);Object.keys(h).forEach(function(b){var c,l;l=h[b];c=g[b];e(c,b,l)&&(c.length?a(c,l):d(c,l))});return b},setElementValue:d,setGroupValue:a,setMultiSelectValue:f,
isCheckable:j}})})("function"==typeof define&&define.amd?define:function(a){module.exports=a()});define("contacts/app/collection/validateContact",function(){return function(a){var q,d;d={valid:!0,errors:[]};q=a&&"firstName"in a&&a.firstName.trim();q||(d.valid=!1,d.errors.push({property:"firstName",message:"missing"}));q=a&&"lastName"in a&&a.lastName.trim();q||(d.valid=!1,d.errors.push({property:"lastName",message:"missing"}));return d}});
define("contacts/app/collection/cleanContact",function(){return function(a){a.firstName=a.firstName&&a.firstName.trim()||"";a.lastName=a.lastName&&a.lastName.trim()||"";a.phone=a.phone&&a.phone.trim()||"";a.email=a.email&&a.email.trim()||"";return a}});
define("contacts/app/collection/generateMetadata",function(){function a(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return function(q){if(!q.id||0==q.id.length)q.id=a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a(),q.dateCreated=(new Date).getTime();return q}});
define("curl/plugin/_fetchText",function(){var a,q;q=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"];a=function(){if("undefined"!==typeof XMLHttpRequest)a=function(){return new XMLHttpRequest};else for(var d=a=function(){throw Error("getXhr(): XMLHttpRequest not available");};0<q.length&&a===d;)(function(d){try{new ActiveXObject(d),a=function(){return new ActiveXObject(d)}}catch(j){}})(q.shift());return a()};return function(d,f,j){var e=a();e.open("GET",d,!0);e.onreadystatechange=function(){4===
e.readyState&&(400>e.status?f(e.responseText):j(Error("fetchText() failed. status: "+e.statusText)))};e.send(null)}});
(function(a,q){function d(){if(!q.body)return!1;k||(k=q.createTextNode(""));try{return q.body.removeChild(q.body.appendChild(k)),k=n,!0}catch(a){return!1}}function f(){var a;a=c[q[e]]&&d();if(!l&&a){l=!0;for(clearTimeout(t);g=p.pop();)g();h&&(q[e]="complete");for(var k;k=b.shift();)k()}return a}function j(){f();l||(t=setTimeout(j,m))}var e="readyState",c={loaded:1,interactive:1,complete:1},b=[],h=q&&"string"!=typeof q[e],l=!1,m=10,r,g,p=[],t,n,k;r="addEventListener"in a?function(a,b){a.addEventListener(b,
f,!1);return function(){a.removeEventListener(b,f,!1)}}:function(a,b){a.attachEvent("on"+b,f);return function(){a.detachEvent(b,f)}};q&&!f()&&(p=[r(a,"load"),r(q,"readystatechange"),r(a,"DOMContentLoaded")],t=setTimeout(j,m));define("curl/domReady",function(){function a(c){l?c():b.push(c)}a.then=a;a.amd=!0;return a})})(this,this.document);define("curl/plugin/text!app/contacts-sample/template.html",function(){return'<div class="cujo-contacts">\n    <div class="contacts-view-container"></div>\n</div>'});
define("curl/plugin/text!app/tabs/tabs.html",function(){return'<ul class="tabs">\n    <li class="item"><a href="#" class="tab-title"></a></li>\n</ul>'});define("curl/plugin/text!app/tabs/stack.html",function(){return'<ul class="stack">\n    <li class="item"></li>\n</ul>'});
(function(a){a("when/when",function(){function a(b,c,k,g){return f(b).then(c,k,g)}function d(a){this.then=a}function f(a){return j(function(b){b(a)})}function j(a){function c(a){m&&(n=e(a),l(m,n),m=y)}function k(a){c(b(a))}function g(a){m&&l(m,h(a))}var n,m=[];try{a(c,k,g)}catch(f){k(f)}return new d(function(a,b,c){return j(function(k,g,h){m?m.push(function(l){l.then(a,b,c).then(k,g,h)}):p(function(){n.then(a,b,c).then(k,g,h)})})})}function e(a){return a instanceof d?a:a!==Object(a)?c(a):j(function(b,
k,g){p(function(){try{var h=a.then;"function"===typeof h?v(h,a,b,k,g):b(c(a))}catch(l){k(l)}})})}function c(a){var c=new d(function(k){try{return"function"==typeof k?e(k(a)):c}catch(g){return b(g)}});return c}function b(a){var c=new d(function(k,g){try{return"function"==typeof g?e(g(a)):c}catch(h){return b(h)}});return c}function h(a){var b=new d(function(c,k,g){try{return"function"==typeof g?h(g(a)):b}catch(l){return h(l)}});return b}function l(a,b){p(function(){for(var c,k=0;c=a[k++];)c(b)})}function m(b,
c,g,h,l){n(2,arguments);return a(b,function(b){return j(function(g,h,l){function n(a){s(a)}function m(a){j(a)}var p,e,d,f,j,s,t,u;t=b.length>>>0;p=Math.max(0,Math.min(c,t));d=[];e=t-p+1;f=[];if(p){s=function(a){f.push(a);--e||(j=s=k,h(f))};j=function(a){d.push(a);--p||(j=s=k,g(d))};for(u=0;u<t;++u)u in b&&a(b[u],m,n,l)}else g(d)}).then(g,h,l)})}function r(a,b,c,k){n(1,arguments);return g(a,s).then(b,c,k)}function g(b,c){return a(b,function(b){return j(function(k,g,h){var l,n,m,p,d;m=n=b.length>>>
0;l=[];if(m){p=function(b,n){a(b,c).then(function(a){l[n]=a;--m||k(l)},g,h)};for(d=0;d<n;d++)d in b?p(b[d],d):--m}else k(l)})})}function p(a){1===z.push(a)&&x(t)}function t(){for(var a,b=0;a=z[b++];)a();z=[]}function n(a,b){for(var c,k=b.length;k>a;)if(c=b[--k],null!=c&&"function"!=typeof c)throw Error("arg "+k+" must be a function");}function k(){}function s(a){return a}a.defer=function(){var a,c,k;a={promise:y,resolve:y,reject:y,notify:y,resolver:{resolve:y,reject:y,notify:y}};a.promise=c=j(function(g,
h,l){a.resolve=a.resolver.resolve=function(a){if(k)return f(a);k=!0;g(a);return c};a.reject=a.resolver.reject=function(a){if(k)return f(b(a));k=!0;h(a);return c};a.notify=a.resolver.notify=function(a){l(a);return a}});return a};a.resolve=f;a.reject=function(c){return a(c,b)};a.join=function(){return g(arguments,s)};a.all=r;a.map=g;a.reduce=function(b,c){var k=v(w,arguments,1);return a(b,function(b){var g;g=b.length;k[0]=function(b,k,h){return a(b,function(b){return a(k,function(a){return c(b,a,h,
g)})})};return u.apply(b,k)})};a.any=function(a,b,c,k){return m(a,1,function(a){return b?b(a[0]):a[0]},c,k)};a.some=m;a.isPromise=function(a){return a&&"function"===typeof a.then};d.prototype={otherwise:function(a){return this.then(y,a)},ensure:function(a){function b(){return f(a())}return this.then(b,b).yield(this)},yield:function(a){return this.then(function(){return a})},spread:function(a){return this.then(function(b){return r(b,function(b){return a.apply(y,b)})})},always:function(a,b){return this.then(a,
a,b)}};var u,w,v,x,z,E,A,B,y;z=[];E=setTimeout;x="function"===typeof setImmediate?"undefined"===typeof window?setImmediate:setImmediate.bind(window):"object"===typeof process&&process.nextTick?process.nextTick:function(a){E(a,0)};A=Function.prototype;B=A.call;v=A.bind?B.bind(B):function(a,b){return a.apply(b,w.call(arguments,2))};A=[];w=A.slice;u=A.reduce||function(a){var b,c,k,g,h;h=0;b=Object(this);g=b.length>>>0;c=arguments;if(1>=c.length)for(;;){if(h in b){k=b[h++];break}if(++h>=g)throw new TypeError;
}else k=c[1];for(;h<g;++h)h in b&&(k=a(k,b[h],h,b));return k};return a})})("function"===typeof define&&define.amd?define:function(a){module.exports=a()});
define("curl/plugin/style",function(){function a(l,m,d){try{clearTimeout(a.debouncer),a.accum?a.accum.push(l):(a.accum=[l],b=e.createStyleSheet?e.createStyleSheet():c.appendChild(e.createElement("style"))),h.push({callback:m,errback:d,sheet:b}),a.debouncer=setTimeout(function(){var c,g;try{c=b;b=j;g=a.accum.join("\n");a.accum=j;g=g.replace(/.+charset[^;]+;/g,"");"cssText"in c?c.cssText=g:c.appendChild(e.createTextNode(g));var h=q,k=function(){!e.readyState||"complete"==e.readyState?h():setTimeout(k,
10)};k()}catch(l){d(l)}},0)}catch(g){d(g)}}function q(){var a=h;h=[];for(var b=0,c=a.length;b<c;b++)a[b].callback(a[b].sheet)}var d,f,j,e,c;"undefined"!=typeof window&&(e=window.document,c=e.head||e.getElementsByTagName("head")[0]);d=/^\/|^[^:]*:\/\//;f=/url\s*\(['"]?([^'"\)]*)['"]?\)/g;var b,h=[];a.load=function(b,c,h){c([b],function(b){a(b,h,h.error)})};a.translateUrls=function(a,b){return a.replace(f,function(a,c){var h=c;d.test(h)||(h=b+h);return'url("'+h+'")'})};return a});
(function(a){a("cola/relational/propertiesKey",function(){return function(a,d){if("string"==typeof a)return function(d){return d&&d[a]};1===arguments.length&&(d="|");return function(f){if(f){var j,e,c,b;j=[];e=0;for(c=a.length;e<c;e++)b=f[a[e]],null!=b&&j.push(b);return j.join(d)}}}})})("function"==typeof define?define:function(a){module.exports=a()});
(function(a){a("meld/meld",function(){function a(b,c,k){var h,l;if(3>arguments.length){var n;n=b.name||"_";h={};h[n]=b;f(h,n,c);return h[n]}if(g(c))l=j(b,c,k);else if(h=typeof c,"string"===h)"function"===typeof b[c]&&(l=f(b,c,k));else if("function"===h)l=j(b,c(b),k);else{h=[];for(n in b)"function"==typeof b[n]&&c.test(n)&&h.push(f(b,n,k));l=e(h)}return l}function d(a,c){var k,g,n;this.target=a;this.func=c;this.aspects={};k=this.orig=a[c];g=this;n=this.advised=function(){function a(b){var c=f(b);g._callSimpleAdvice("on",
m,b);return c}var m,d,e,f,j;this instanceof n?(m=t(k.prototype),f=function(a){var b=m;try{p(b,"constructor",{value:k,enumerable:!1})}catch(c){}k.apply(b,a);return b}):(m=this,f=function(a){return k.apply(m,a)});e=r.call(arguments);j="afterReturning";d=b({target:m,method:c,args:e});try{g._callSimpleAdvice("before",m,e);try{d.result=g._callAroundAdvice(m,c,e,a)}catch(s){d.result=d.exception=s,j="afterThrowing"}e=[d.result];g._callSimpleAdvice(j,m,e);g._callSimpleAdvice("after",m,e);if(d.exception)throw d.exception;
return d.result}finally{h=l.pop()}};p(n,"_advisor",{value:g,configurable:!0})}function f(a,b,c){return(a=d.get(a,b))&&a.add(c)}function j(a,b,c){var k,h,g;k=[];for(g=0;h=b[g++];)(h=f(a,h,c))&&k.push(h);return e(k)}function e(a){return{remove:function(){for(var b=a.length-1;0<=b;--b)a[b].remove()}}}function c(b){return function(c,k,h){var g={};if(2===arguments.length)return g[b]=k,a(c,g);g[b]=h;return a(c,k,g)}}function b(a){l.push(h);return h=a}a.before=c("before");a.around=c("around");a.on=c("on");
a.afterReturning=c("afterReturning");a.afterThrowing=c("afterThrowing");a.after=c("after");a.joinpoint=function(){return h};a.add=function(){return a.apply(null,arguments)};d.prototype={_callSimpleAdvice:function(a,b,c){var k;this.aspects[a]&&(k=m[a],k(this.aspects[a],function(a){(a=a.advice)&&a.apply(b,c)}))},_callAroundAdvice:function(a,c,k,g){function n(k,m,e){function p(a){f++;return 0>m-1?g(a):n(d[m-1].advice,m-1,a)}var f,j;f=0;j=b({target:a,method:c,args:e,proceed:function(){return p(0<arguments.length?
r.call(arguments):e)},proceedApply:function(a){return p(a||e)},proceedCount:function(){return f}});try{return k.call(a,j)}finally{h=l.pop()}}var m,d;m=(d=this.aspects.around)?d.length:0;return 0>m-1?g(k):n(d[m-1].advice,m-1,k)},add:function(a){var b,c;b=this;c=b.aspects;var k,h,g;for(k in m)if(h=a[k])(g=c[k])||(c[k]=g=[]),g.push({aspect:a,advice:h});return{remove:function(){var k,h,g;g=0;for(k in m)if(h=c[k]){g+=h.length;for(var l=h.length-1;0<=l;--l)if(h[l].aspect===a){h.splice(l,1);--g;break}}g||
b.remove()}}},remove:function(){delete this.advised._advisor;this.target[this.func]=this.orig}};d.get=function(a,b){if(b in a){var c;c=a[b];if("function"!==typeof c)throw Error("Advice can only be applied to functions: "+b);c=c._advisor;c||(c=new d(a,b),a[b]=c.advised);return c}};var h,l,m,r,g,p,t;l=[];r=Array.prototype.slice;g=Array.isArray||function(a){return"[object Array]"==Object.prototype.toString.call(a)};var n;a:{try{n="x"in Object.defineProperty({},"x",{});break a}catch(k){}n=void 0}p=n?
Object.defineProperty:function(a,b,c){a[b]=c.value};if(!(n=Object.create)){var s=function(){};n=function(a){s.prototype=a;a=new s;s.prototype=null;return a}}t=n;m={before:function(a,b){for(var c=a.length-1;0<=c;--c)b(a[c])},around:!1};m.on=m.afterReturning=m.afterThrowing=m.after=function(a,b){for(var c=0,k=a.length;c<k;c++)b(a[c])};return a})})("function"==typeof define&&define.amd?define:function(a){module.exports=a()});
define("curl/plugin/domReady",["curl/domReady"],function(a){return{load:function(q,d,f){a(f)}}});define("curl/plugin/text",["curl/plugin/_fetchText"],function(a){function q(a){throw a;}return{normalize:function(a,f){return a?f(a.split("!")[0]):a},load:function(d,f,j){a(f.toUrl(d),j,j.error||q)},cramPlugin:"../cram/text"}});(function(a){define("wire/domReady",["require"],function(q){return a.require&&a.require.ready||function(a){q(["domReady!"],function(){a()})}})})(this);
(function(a){a("wire/lib/object",function(){return{hasOwn:Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty),isObject:function(a){return a&&"[object Object]"==Object.prototype.toString.call(a)},inherit:function(a){return a?Object.create(a):{}},mixin:function(a,d){return!d?a:Object.keys(d).reduce(function(a,j){a[j]=d[j];return a},a)}}})})("function"==typeof define?define:function(a){module.exports=a()});
(function(a){a("wire/lib/plugin/priority",function(){function a(f,j){var e,c;e=f.priority||d;c=j.priority||d;return e<c?-1:e>c?1:0}var d;d=0;return{basePriority:-99,sortReverse:function(d){return d.sort(a)}}})})("function"===typeof define&&define.amd?define:function(a){module.exports=a()});
(function(a){a("when/apply",function(){var a=Object.prototype.toString;return function(d){return function(f){if("[object Array]"!=a.call(f))throw Error("apply called with non-array arg");return d.apply(null,f)}}})})("function"===typeof define&&define.amd?define:function(a){module.exports=a(require)});(function(a){a("cola/comparator/naturalOrder",function(){return function(a,d){return a==d?0:a<d?-1:1}})})("function"==typeof define?define:function(a){module.exports=a()});
(function(a){a("cola/adapterResolver",function(){return{resolve:function(a){var d,f,j;if(d=this.adapters)for(f=d.length;j=d[--f];)if(j.canHandle(a))return j},register:function(a){var d=this.adapters;-1===d.indexOf(a)&&d.push(a)}}})})("function"==typeof define?define:function(a){module.exports=a()});
(function(a){a("cola/network/strategy/collectThenDeliver",function(){var a;a=Array.isArray||function(a){return"[object Array]"==Object.prototype.toString.call(a)};return function(d){var f,j,e,c,b;d||(d={});f=d.collectionProperty||"items";j=d.preserveCollection||!1;return function(h,l,m,d,g){if(e)if(g.isBefore())"collect"==d&&g.cancel();else{if(g.isAfter())if("select"==d){var p=h.identifier(m);void 0===b[p]&&(b[p]=c.push(m)-1)}else if("unselect"==d||"remove"==d){if(m=h.identifier(m),h=b[m],0<=h)for(p in c.splice(h,
1),delete b[m],b)b[p]>h&&b[p]--}else"submit"==d?(g.queueEvent(h,e,"deliver"),e=b=null):"cancel"==d&&(e=b=null)}else g.isAfter()&&"collect"==d&&(e=m||[],a(e)?c=e:(c=m[f])||(c=m[f]=[]),!j&&c.length&&c.splice(0,c.length),b={})}}})})("function"==typeof define&&define.amd?define:function(a){module.exports=a()});
(function(a){a("cola/network/strategy/validate",function(){function a(d){return{valid:null!=d}}return function(d){var f=d&&d.validator||a;return function(a,d,c,b,h){if(h.isBefore()&&("add"==b||"update"==b))d=f(c),d.valid||h.cancel(),h.queueEvent(a,d,"validate")}}})})("function"==typeof define&&define.amd?define:function(a){module.exports=a()});
(function(a){a("cola/network/strategy/changeEvent",function(){var a,d;a={sync:1};d={add:1,update:1,remove:1};return function(){return function(f,j,e,c,b){(b.isBefore()&&a[c]||b.isAfter()&&d[c])&&b.queueEvent(f,e,"change")}}})})("function"==typeof define&&define.amd?define:function(a){module.exports=a()});
(function(a){a("wire/lib/array",function(){var a=[].slice;return{delegate:function(a){return a?[].concat(a):[]},fromArguments:function(d,f){return a.call(d,f||0)},union:function(a,f){if(a.length){if(!f.length)return a.slice()}else return f.slice();return f.reduce(function(a,d){-1===a.indexOf(d)&&a.push(d);return a},a.slice())}}})})("function"==typeof define?define:function(a){module.exports=a()});
(function(a){a("cola/identifier/property",function(){return function(a){return function(d){return d&&d[a]}}})})("function"==typeof define?define:function(a){module.exports=a()});
(function(a){a("wire/lib/graph/DirectedGraph",function(){function a(){this.vertices={}}a.prototype={addEdge:function(a,f){this._getOrCreateVertex(f);this._getOrCreateVertex(a).edges[f]=1},_getOrCreateVertex:function(a){var f=this.vertices[a];f||(f=this.vertices[a]={name:a,edges:{}});return f},removeEdge:function(a,f){var j=this.vertices[a];j&&delete j.edges[f]},eachVertex:function(a){var f,j;f=this.vertices;for(j in f)a(f[j])},eachEdgeFrom:function(a,f){var j,e,c;c=this.vertices;if(j=c[a])for(e in j.edges)f(j,
c[e])}};return a})})("function"===typeof define&&define.amd?define:function(a){module.exports=a()});
(function(a){a("cola/enqueue",function(){var a;if("undefined"!==typeof process)a=process.nextTick;else if("function"===typeof msSetImmediate)a=msSetImmediate.bind(window);else if("function"===typeof setImmediate)a=setImmediate;else if("undefined"!==typeof MessageChannel){var d,f,j;d=new MessageChannel;j=f={};d.port1.onmessage=function(){var a;f=f.next;a=f.task;delete f.task;a()};a=function(a){j=j.next={task:a};d.port2.postMessage(0)}}else a=function(a){setTimeout(a,0)};return a})})("function"==typeof define&&
define.amd?define:function(a){module.exports=a()});
(function(a){a("cola/SortedMap",function(){function a(f,j){this.clear();this._fetch=function(a){a=f(a);return a in this._index?this._index[a]:d};this._pos=function(a,c){var b,h,l;h=this._sorted;l=f(a);a:{b=0;var m=h.length,d=j,g,p;if(!(m<=b)){do{g=Math.floor((b+m)/2);p=d(a,h[g]?h[g][0].key:{});if(isNaN(p))throw Error("SortedMap: invalid comparator result "+p);if(1>=m-b){b=0==p?g:0<p?m:b;break a}if(0<p)b=g;else if(0>p)m=g;else{b=g;break a}}while(1);b=void 0}}c&&l!=f(h[b][0].key)&&(b=-1);return b};
this._bucketOffset=function(a){var c,b;for(b=c=0;b<a;b++)c+=this._sorted[b].length;return c};j||(this._pos=function(a,c){return c?-1:this._sorted.length});this._insert=function(a,c,b){var h,l;b={key:a,value:b};h=f(a);this._index[h]=b;0<=c?(l=this._bucketOffset(c),(h=this._sorted[c]&&this._sorted[c][0])?0==j(h.key,a)?l+=this._sorted[c].push(b)-1:this._sorted.splice(c,0,[b]):this._sorted[c]=[b]):l=-1;return l};this._remove=function(a,c){var b,h,l,m,d;b=f(a);delete this._index[b];if(0<=c){d=this._bucketOffset(c);
h=this._sorted[c]||[];for(l=h.length;m=h[--l];)if(b==f(m.key)){h.splice(l,1);break}d+=l;0==h.length&&this._sorted.splice(c,1)}else d=-1;return d};this._setComparator=function(a){var c,b;j=a;this._sorted=[];for(c in this._index)a=this._index[c],b=this._pos(a.key),this._insert(a.key,b,a.value)}}var d={};a.prototype={get:function(a){a=this._fetch(a);return a==d?void 0:a.value},add:function(a,j){var e;if(2>arguments.length)throw Error("SortedMap.add: must supply keyItem and valueItem args");if(this._fetch(a)==
d)return e=this._pos(a),e=this._insert(a,e,j)},remove:function(a){var j;if(this._fetch(a)!=d)return j=this._pos(a,!0),a=this._remove(a,j)},forEach:function(a){var d,e,c,b,h;d=0;for(c=this._sorted.length;d<c;d++){h=this._sorted[d];e=0;for(b=h.length;e<b;e++)a(h[e].value,h[e].key)}},clear:function(){this._index={};this._sorted=[]},setComparator:function(a){this._setComparator(a)}};return a})})("function"==typeof define?define:function(a){module.exports=a(require)});
(function(a){a("cola/dom/classList",["require","exports"],function(){function a(b){return b.className.split(e)}function d(a,b,c){b=f(b.concat(c).join(" "));c=f(c.join(" "));b=RegExp(l+b.replace(g,r)+m,"g");return f(a.replace(b,function(a){return!a&&c?" "+c:""}))}function f(a){return a.replace(p,"")}function j(a,g){var k;if(!a)return g;a=a.replace(h,function(a,b,c){return c?"":"|"});k=RegExp(c.replace("classNames",a),"g");return g.replace(k,"").replace(b,"")}var e=/\s+/,c="(\\s+|^)(classNames)(\\b(?![\\-_])|$)",
b=/^\s+/,h=/(\b\s+\b)|(\s+)/g,l,m,r,g,p;l="(?:\\b\\s+|^\\s*)(";m=")(?:\\b(?!-))|(?:\\s*)$";r="|";g=/\b\s+\b/;p=/^\s+|\s+$/;return{addClass:function(a,b){var c=j(a,b);c&&a&&(c+=" ");return c+a},removeClass:j,getClassList:a,setClassList:function(b,c){var k,g;c&&(k=c.add||c||[],g=c.remove||[],b.className=d(b.className,g,k));return a(b)},getClassSet:function(a){var b,c;b={};for(a=a.className.split(e);c=a.pop();)b[c]=!0;return b},setClassSet:function(a,b){var c,g,h;c=[];g=[];for(h in b)h&&(b[h]?g.push(h):
c.push(h));return a.className=d(a.className,c,g)}}})})("function"==typeof define?define:function(a){module.exports=a(require)});(function(a){a("cola/network/strategy/base",function(){return function(){return function(a,d,f,j,e){if(e.isPropagating()&&j in d&&!e.isHandled()){if("function"!=typeof d[j])throw Error("baseStrategy: "+j+" is not a function.");return d[j](f)}}}})})("function"==typeof define&&define.amd?define:function(a){module.exports=a()});
(function(a){a("cola/network/strategy/targetFirstItem",function(){return function(){var a=!0;return function(d,f,j,e,c){c.isBefore()&&(a&&"add"==e?(c.queueEvent(d,j,"target"),a=!1):"sync"==e&&(a=!0))}}})})("function"==typeof define&&define.amd?define:function(a){module.exports=a()});
(function(a){a("cola/network/strategy/syncAfterJoin",function(){function a(d){return d.provide}return function(d){var f;d||(d={});f=d.isProvider||a;return function(a,d,c,b,h){"join"==b&&h.isAfter()&&(f(a)?h.queueEvent(a,!0,"sync"):h.queueEvent(a,!1,"sync"))}}})})("function"==typeof define&&define.amd?define:function(a){module.exports=a()});
(function(a){a("cola/network/strategy/syncDataDirectly",function(){return function(a){function d(a,c){f(a,function(a,b,d){a==c&&d.splice(b,1)})}function f(a,c){var l,m;for(l=a.length;m=a[--l];)c(m,l,a)}var j,e,c;a||(a={});e=[];c=[];j=void 0;return function(b,h,l,m,r){if("sync"==m&&r.isBefore()){j=b;try{if(l){if("function"!=typeof b.forEach)throw Error("syncDataDirectly: provider doesn't have `forEach()`.");e.push(j);a.providersAreConsumers&&c.push(j);f(c,function(a){b.forEach(function(b){a.add(b)})})}else c.push(j),
"function"==typeof b.add&&f(e,function(a){a.forEach(function(a){j.add(a)})});r.cancel()}finally{j=void 0}}else"add"==m&&j&&!r.isBefore()?r.cancel():"leave"==m&&r.isAfter()&&(d(e,b),d(c,b))}}})})("function"==typeof define&&define.amd?define:function(a){module.exports=a()});
(function(a){a("cola/comparator/byProperty",["require","cola/comparator/naturalOrder"],function(a,d){return function(a,j){j||(j=d);return function(d,c){return j(d[a],c[a])}}})})("function"==typeof define?define:function(a){module.exports=a(require)});(function(a){a("cola/identifier/default",["require","cola/identifier/property"],function(a,d){return d("id")})})("function"==typeof define?define:function(a){module.exports=a(require)});
(function(a){a("wire/lib/graph/tarjan",function(){return function(a){function d(a,b){var h,l;b.index=b.lowlink=f;f+=1;j.push(b);b.onStack=1;a.eachEdgeFrom(b.name,function(b,h){void 0===h.index?(d(a,h),b.lowlink=Math.min(b.lowlink,h.lowlink)):h.onStack&&(b.lowlink=Math.min(b.lowlink,h.index))});if(b.lowlink===b.index){h=[];if(j.length){do(l=j.pop())&&delete l.onStack,h.push(l);while(b!==l)}h.length&&e.push(h)}}var f,j,e;f=0;j=[];e=[];a.eachVertex(function(a){delete a.index;delete a.lowlink;delete a.onStack});
a.eachVertex(function(c){void 0===c.index&&d(a,c)});return e}})})("function"===typeof define&&define.amd?define:function(a){module.exports=a()});(function(a){a("wire/lib/graph/formatCycles",function(){return function(a){return a.map(function(a){return"["+a.map(function(a){return a.name}).join(", ")+"]"}).join(", ")}})})("function"===typeof define&&define.amd?define:function(a){module.exports=a()});
(function(a){a("cola/adapter/Array",["require","when/when"],function(a,d){function f(a,l){l||(l={});this._options=l;this.comparator=l.comparator||this._defaultComparator;this.identifier=l.identifier||e;"provide"in l&&(this.provide=l.provide);this._array=a;this.clear();var d=this;c(a,function(a){j(d,b);d._init(a)})}function j(a,b,c){var d,g;for(d in b)b.hasOwnProperty(d)&&(g=b[d],a[d]=c?c(g):g);return a}function e(a){return"object"==typeof a?a.id:a}var c,b;c=d;f.prototype={provide:!0,_init:function(a){if(a&&
a.length)for(var b=0,c=a.length;b<c;b++)this.add(a[b])},_defaultComparator:function(a,b){var c,d;c=this._index(this.identifier(a));d=this._index(this.identifier(b));return c-d},comparator:void 0,identifier:void 0,getOptions:function(){return this._options},forEach:function(a){return this._forEach(a)},add:function(a){return this._add(a)},remove:function(a){return this._remove(a)},update:function(a){return this._update(a)},clear:function(){return this._clear()}};b={_forEach:function(a){var b,c,d;b=
0;c=this._data;for(d=c.length;b<d;b++)a(c[b])},_add:function(a){var b,c;b=this.identifier(a);c=this._index;if(b in c)return null;c[b]=this._data.push(a)-1;return c[b]},_remove:function(a){var b,c;b=this.identifier(a);c=this._index;if(!(b in c))return null;a=this._data;b=c[b];a.splice(b,1);c=this.identifier;var d,g,p;d={};g=0;for(p=a.length;g<p;g++)d[c(a[g])]=g;this._index=d;return b},_update:function(a){var b,c,d;b=this.identifier(a);d=this._index;c=d[b];0<=c?this._data[c]=a:d[b]=this._data.push(a)-
1;return c},_clear:function(){this._data=[];this._index={}}};j(f.prototype,b,function(a){return function(){var b,d;b=this;d=Array.prototype.slice.call(arguments);return c(this._array,function(){return a.apply(b,d)})}});f.canHandle=function(a){return a&&(c.isPromise(a)||"[object Array]"==Object.prototype.toString.call(a))};return f})})("function"==typeof define?define:function(a){module.exports=a(require)});
(function(a){a("wire/lib/instantiate",function(){return function(a,d,f){var j;if(!f)for(j in f=!1,a.prototype)if(void 0!==j){f=!0;break}if(f){j=Object.create(a.prototype);try{Object.defineProperty(j,"constructor",{value:a,enumerable:!1})}catch(e){}a=a.apply(j,d);void 0!==a&&(j=a)}else j=a.apply(void 0,d);return void 0===j?null:j}})})("function"==typeof define?define:function(a){module.exports=a()});
(function(a){a("wire/lib/invoker",function(){return function(a,d){return function(f){return f[a].apply(f,d)}}})})("function"===typeof define&&define.amd?define:function(a){module.exports=a()});
(function(a,q,d){a("cola/dom/has",function(){function a(d){var e=a.cache[d];"function"==typeof e&&(e=a.cache[d]=a.cache[d]());return e}a.cache={"dom-addeventlistener":function(){return d&&"addEventListener"in d||"addEventListener"in q},"dom-createevent":function(){return d&&"createEvent"in d}};return a})})("function"==typeof define?define:function(a){module.exports=a()},this,this.document);
(function(a){a("wire/lib/WireProxy",["require","wire/lib/object","wire/lib/array"],function(a,d,f){function j(a){Object.defineProperty(this,"target",{value:a})}function e(a){return a instanceof j}function c(a,d){var m,e,g,p;m=d.deep;e=d.inherited;if("object"!=typeof a)return a;if(a instanceof Date)return new Date(a.getTime());if(a instanceof RegExp)return RegExp(a);if(Array.isArray(a))return m?a.map(function(a){return c(a,d)}):a.slice();g=a.constructor?new a.constructor:{};for(p in a)if(e||b.hasOwn(a,
p))g[p]=m?c(a[p],d):a[p];return g}var b;b=d;j.prototype={get:function(a){return this.target[a]},set:function(a,b){return this.target[a]=b},invoke:function(a,b){var c=this.target;"string"===typeof a&&(a=c[a]);return a.apply(c,f.fromArguments(b))},destroy:function(){},clone:function(a){var b=this.target;return"function"==typeof b?b.bind():"object"!=typeof b?b:c(b,a||{})}};j.create=function(a){return new j(a)};j.isProxy=e;j.getTarget=function(a){return e(a)?a.target:a};j.extend=function(a,c){if(!e(a))throw Error("Cannot extend non-WireProxy");
return b.mixin(Object.create(a),c)};return j})})("function"==typeof define?define:function(a){module.exports=a(require)});define("highlight/github.css",["curl/plugin/style","require"],function(){return"/*\n\ngithub.com style (c) Vasily Polovnyov <vast@whiteants.net>\n\n*/\n\npre code {\n  display: block; padding: 0.5em;\n  color: #333;\n  background: #fff\n  /*background: #f8f8ff*/\n}\n\npre .comment,\npre .template_comment,\npre .diff .header,\npre .javadoc {\n  color: #998;\n  font-style: italic\n}\n\npre .keyword,\npre .css .rule .keyword,\npre .winutils,\npre .javascript .title,\npre .nginx .title,\npre .subst,\npre .request,\npre .status {\n  color: #333;\n  font-weight: bold\n}\n\npre .number,\npre .hexcolor,\npre .ruby .constant {\n  color: #099;\n}\n\npre .string,\npre .tag .value,\npre .phpdoc,\npre .tex .formula {\n  color: #d14\n}\n\npre .title,\npre .id,\npre .coffeescript .params,\npre .scss .preprocessor {\n  color: #900;\n  font-weight: bold\n}\n\npre .javascript .title,\npre .lisp .title,\npre .clojure .title,\npre .subst {\n  font-weight: normal\n}\n\npre .class .title,\npre .haskell .type,\npre .vhdl .literal,\npre .tex .command {\n  color: #458;\n  font-weight: bold\n}\n\npre .tag,\npre .tag .title,\npre .rules .property,\npre .django .tag .keyword {\n  color: #000080;\n  font-weight: normal\n}\n\npre .attribute,\npre .variable,\npre .lisp .body {\n  color: #008080\n}\n\npre .regexp {\n  color: #009926\n}\n\npre .class {\n  color: #458;\n  font-weight: bold\n}\n\npre .symbol,\npre .ruby .symbol .string,\npre .lisp .keyword,\npre .tex .special,\npre .prompt {\n  color: #990073\n}\n\npre .built_in,\npre .lisp .title,\npre .clojure .built_in {\n  color: #0086b3\n}\n\npre .preprocessor,\npre .pi,\npre .doctype,\npre .shebang,\npre .cdata {\n  color: #999;\n  font-weight: bold\n}\n\npre .deletion {\n  background: #fdd\n}\n\npre .addition {\n  background: #dfd\n}\n\npre .diff .change {\n  background: #0086b3\n}\n\npre .chunk {\n  color: #aaa\n}\n"});
define("curl/plugin/css!highlight/github.css",["curl/plugin/style!highlight/github.css"],function(a){return a});
(function(a){a("cola/cola",["when/when","cola/relational/propertiesKey","cola/comparator/byProperty"],function(a,d,f){function j(m,g,p){var j=m.target,n=a;m=m.options;p.resolver.isRef(m)&&(m={to:m});g=e(m,g);g.querySelector||(g.querySelector=b);g.querySelectorAll||(g.querySelectorAll=h);g.on||(g.on=l);m=g.identifier;g.identifier="string"==typeof m||Array.isArray(m)?d(m):m;m=g.comparator||c;g.comparator="string"==typeof m?f(m):m;return n(p(g),function(a){var b=a.to;if(!b)throw Error('wire/cola: "to" must be specified');
b.addSource(j,e(a));return j})}function e(){var a,b,c,d,h;h={};a=0;for(b=arguments.length;a<b;a++)if(d=arguments[a])for(c in d)d.hasOwnProperty(c)&&(h[c]=d[c]);return h}var c,b,h,l,m;c=f("id");b={$ref:"dom.first!"};h={$ref:"dom.all!"};l={$ref:"on!"};m={id:1,module:1};return{wire$plugin:function(a){var b,c;b={};if(arguments.length)for(c in a=arguments[arguments.length-1],a)c in m||(b[c]=a[c]);return{facets:{bind:{ready:function(a,c,k){a.resolve(j(c,b,k))}}}}}}})})("function"==typeof define?define:
function(a,q){module.exports=q.apply(this,a.map(require))});
(function(a,q){q("cola/adapter/LocalStorage",["require","cola/identifier/default","when/when"],function(d,f){function j(c,b){if(!c)throw Error("cola/LocalStorageAdapter: must provide a storage namespace");this._namespace=c;b||(b={});"provide"in b&&(this.provide=b.provide);this._storage=b.localStorage||a.localStorage;if(!this._storage)throw Error("cola/LocalStorageAdapter: localStorage not available, must be supplied in options");this.identifier=b.identifier||e;var d=this._storage.getItem(c);this._data=
d?JSON.parse(d):{}}var e;e=f;j.prototype={provide:!0,identifier:void 0,getOptions:function(){return{}},forEach:function(a){var b=this._data,d;for(d in b)a(b[d])},add:function(a){var b=this.identifier(a);if(b in this._data)return null;this._data[b]=a;this._sync();return b},remove:function(a){var b=this.identifier(a);if(!(b in this._data))return null;delete this._data[b];this._sync();return a},update:function(a){var b=this.identifier(a);if(!(b in this._data))return null;this._data[b]=a;this._sync();
return a},clear:function(){this._storage.removeItem(this._namespace)},_sync:function(){this._storage.setItem(this._namespace,JSON.stringify(this._data))}};return j})})(this.window||global,"function"==typeof define?define:function(a){module.exports=a(require)});
(function(a){a("cola/dom/guess",["require","cola/dom/has","cola/dom/classList"],function(a,d,f){function j(a){return m.test(a.tagName)}function e(a){return Array.isArray(a)?a.reduce(function(a,b){return a.concat(e(b).filter(function(b){return b&&0>a.indexOf(b)}))},[]):j(a)?[j(a)&&r.test(a.type)?"click":"change","focusout"]:[]}function c(a,b){var c,d;c=p[b];d=g[b]||b;return c?c.get(a):d in a?a[d]:a.getAttribute(d)}function b(a,b,c){var d;d=p[b];b=g[b]||b;"option"==a.nodeName&&"innerText"==b&&(b="text");
if(d)return d.set(a,c);b in a?a[b]=c:a.setAttribute(b,c);return c}function h(a,d,k){g.textContent="textContent"in a?"textContent":"innerText";l.setNodePropOrAttr=b;l.getNodePropOrAttr=c;return 3==arguments.length?b(a,d,k):c(a,d)}var l,m,r,g,p;m=/^(input|select|textarea)$/i;r=/^(checkbox|radio)/i;g={"class":"className","for":"htmlFor"};p={classList:{get:f.getClassList,set:f.setClassList},classSet:{get:f.getClassSet,set:f.setClassSet}};return l={isFormValueNode:j,eventsForNode:e,propForNode:function(a){return j(a)?
j(a)&&r.test(a.type)?"checked":"value":"textContent"},getNodePropOrAttr:h,setNodePropOrAttr:h}})})("function"==typeof define?define:function(a){module.exports=a(require)});
(function(a){a("wire/lib/dom/base",["require","wire/lib/WireProxy","wire/lib/plugin/priority"],function(a,d,f){function j(a,b){var c;if(!b)return a;b=b.replace(r,function(a,b,c){return c?"":"|"});c=RegExp(l.replace("classNames",b),"g");return a.replace(c,"").replace(m,"")}function e(a,b,c){var k;if("length"in b){for(k=0;k<b.length;k++)e(0===k?a:a.cloneNode(!0),b[k],c);return a}k=b.parentNode;if(isNaN(c))if("at"==c)b.innerHTML="",b.appendChild(a);else if("last"==c)b.appendChild(a);else if("first"==
c)b.insertBefore(a,b.firstChild);else if("before"==c)k.insertBefore(a,b);else if("after"==c)b==k.lastChild?k.appendChild(a):k.insertBefore(a,b.nextSibling);else throw Error("Unknown dom insertion command: "+c);else 0>c&&(c=0),b.insertBefore(a,b.childNodes[c]);return a}function c(){}function b(a){return!("object"===typeof Node?a.target instanceof Node:a.target&&"object"===typeof a.target&&"number"===typeof a.target.nodeType&&"string"===typeof a.target.nodeName)?a:h.extend(a,c.prototype)}var h,l,m,
r,g;h=d;l="(\\s+|^)(classNames)(\\b(?![\\-_])|$)";m=/^\s+/;r=/(\b\s+\b)|(\s+)/g;g=document&&document.appendChild.apply?function(a,b,c){"string"==typeof b&&(b=a[b]);return b.apply(a,c)}:function(a,b,c){var k;if("function"==typeof b)return b.apply(a,c);k=["a","b","c","d","e"].slice(0,c.length).join(",");return function(){return eval("node."+b+"("+k+");")}.apply(this,c)};c.prototype={get:function(a){var b=this.target;return a in b?b[a]:b.getAttribute(a)},set:function(a,b){var c=this.target;return a in
c?c[a]=b:c.setAttribute(a,b)},invoke:function(a,b){return g(this.target,a,b)},destroy:function(){var a=this.target;a.destroy&&a.destroy();var b=a.parentNode;b&&b.removeChild(a)},clone:function(a){a||(a={});return this.target.cloneNode(!("deep"in a)||a.deep)}};b.priority=f.basePriority;return{byId:function(a){return document.getElementById(a)},querySelector:function(a,b){return(b||document).querySelector(a)},querySelectorAll:function(a,b){return(b||document).querySelectorAll(a)},placeAt:e,addClass:function(a,
b){var c;c=j(a.className,b);a.className=c+(c&&b?" ":"")+b},removeClass:function(a,b){a.className=j(a.className,b)},toggleClass:function(a,b){var c;c=a.className.replace(m,"");a.className=j(a.className,b);c==a.className&&(a.className=c+(c&&b?" ":"")+b)},proxyNode:b}})})("function"==typeof define&&define.amd?define:function(a){module.exports=a(require)});define("app/tabs/structure.css",["curl/plugin/style","require"],function(){return".tabs {\n    position: relative;\n    padding: 0;\n    margin: 0;\n    line-height: 1;\n}\n\n.tabs .item {\n    display: inline-block;\n    list-style-type: none;\n}\n\n.stack {\n    height: 100%;\n    position: relative;\n    padding: 0;\n    margin: 0;\n    clear: both;\n}\n\n.stack .item {\n    display: none;\n    list-style-type: none;\n    position: relative;\n    left: 0;\n    top: 0;\n    right: 0;\n}\n\n.stack .item.active {\n    display: block;\n}"});
define("curl/plugin/css!app/tabs/structure.css",["curl/plugin/style!app/tabs/structure.css"],function(a){return a});(function(a){a("wire/lib/WireContext",["require","wire/lib/object"],function(a,d){function f(){}f.inherit=function(a,e){var c;c=d.inherit(a);d.mixin(c,e);f.prototype=c;c=new f;f.prototype=void 0;return c};return f})})("function"===typeof define?define:function(a){module.exports=a(require)});define("contacts/app/edit/structure.css",["curl/plugin/style","require"],function(){return'.edit-contact-view {\n\tpadding: 0;\n\tposition: absolute;\n\tright: 0;\n\theight: 100%;\n\twidth: 70%;\n}\n\n.edit-contact-view fieldset {\n\tmargin: .5em 1em;\n}\n\n.edit-contact-view label {\n\tdisplay: block;\n\twidth: 100%;\n}\n\n.edit-contact-view label span {\n    display: inline-block;\n    padding: 0 2px;\n    width: 7em;\n}\n\n.edit-contact-view input[type="text"] {\n\twidth: 8em;\n}\n\n.edit-contact-view input[name="id"] {\n    display: none;\n}\n\n.edit-contact-view .controls {\n    position: absolute;\n    bottom: 0;\n}\n'});
define("curl/plugin/css!contacts/app/edit/structure.css",["curl/plugin/style!contacts/app/edit/structure.css"],function(a){return a});(function(a){a("when/sequence",["require","when/when"],function(a,d){return function(a){var j=Array.prototype.slice.call(arguments,1);return d.reduce(a,function(a,c){return d(c.apply(null,j),function(b){a.push(b);return a})},[])}})})("function"===typeof define&&define.amd?define:function(a){module.exports=a(require)});
(function(a){a("cola/dom/bindingHandler",["require","cola/dom/guess","cola/dom/form"],function(a,d,f){function j(a,b,c){a.forEach(function(a){e(a,b,c)})}function e(a,c,d){var g,e;a.form?h.setValues(a.form,c,function(a,b){return b===d.prop}):(g=d.attr||b.propForNode(a),c=c[d.prop],e=b.getNodePropOrAttr(a,g),e!==c&&b.setNodePropOrAttr(a,g,c))}var c,b,h;c=Array.prototype.slice;b=d;h=f;e.inverse=function(a,c,d){var g;a.form?(g=h.getValues(a.form,function(b){return b===a||b.name===a.name}),c[d.prop]=g[d.prop]):
(g=d.attr||b.propForNode(a),c[d.prop]=b.getNodePropOrAttr(a,g))};return function(a,d){var h,g;h=d.nodeFinder||d.querySelectorAll||d.querySelector;g=d.on;if(!h)throw Error("bindingHandler: options.nodeFinder must be provided");var f=h;h=function(a,b){var k;k=a?(k=f.apply(this,arguments))?Array.isArray(k)?k:k.length?c.call(k):[k]:[]:[b];return k};return function(c,d){function k(b){p=b;m.forEach(function(c){var k,g,d;k=c.each;g=c.all;d=h(c.selector,a);g&&g(d,b,c,j);d.forEach(function(a){k(a,b,c,e)})})}
var m,f,p;m=[].concat(c).map(function(a){var b;b="string"==typeof a?{selector:a}:Object.create(a);b.each=a.each||a.handler||e;b.prop||(b.prop=d);return b});f=m.reduce(function(c,d){function m(a){e.call(this,p,a)}var e,n;n=b.eventsForNode(h(d.selector,a));if(0<n.length){var j=d.inverse||d.each.inverse;e=function(a,b){var c=b.target;a&&j(c,a,d);k(a)};n.forEach(function(b){c.push(g(a,b,m,d.selector))})}return c},[]);k.unlisten=function(){f.forEach(function(a){a()})};return k}}})})("function"==typeof define&&
define.amd?define:function(a){module.exports=a(require)});
define("wire/dom/render",["wire/lib/dom/base","when/when"],function(a,q){function d(a,d,g){a=""+a;var h=void 0;d&&(h||(h=f),a=a.replace(e,function(a,b){var c=h,g=d,l,e;for(l=b.split(".");g&&(e=l.shift());)g=g[e];return c(g)}));if(b.test(a))a=document.createElement(a);else{var l=a,n;a=l.match(c);a=document.createElement(j[a&&a[1]]||"div");a.innerHTML=l;l=a.firstElementChild;n=a.lastElementChild;if(!l)for(n=a.firstChild;n;)1==n.nodeType&&!l&&(l=n),n=n.nextSibling;if(l!=n)throw Error("render: only one element per template is supported.");
a=l}if(g){for(l=0;l<g.attributes.length;l++)n=g.attributes[l],"class"==n.name?a.className=(g.className?g.className+" ":"")+a.className:a.attributes[n.name]||a.setAttribute(n.name,g.getAttribute(n.name));(l=g.parentNode)&&l.replaceChild(a,g)}return a}function f(a){return a==l?"":a}var j,e,c,b,h,l;j={li:"ul",td:"tr",tr:"tbody",tbody:"table",thead:"table",tfoot:"table",caption:"table",col:"table",colgroup:"table",option:"select"};e=/\$\{([^}]*)\}/g;c=/<\s*(\w+)/;b=/^[A-Za-z]\w*$/;h={factories:{render:function(a,
b,c){q(c(b.options),function(a){return d(a.template||a,a.replace,a.at,a.css)}).then(a.resolve,a.reject)}},proxies:[a.proxyNode]};d.wire$plugin=function(){return h};return d});define("contacts/app/list/structure.css",["curl/plugin/style","require"],function(){return".contact-list-view {\n\tposition: absolute;\n\theight: 100%;\n\twidth: 30%;\n    margin: 0;\n    padding: 0;\n}\n\n.contact-list-view .contact {\n    padding: .25em;\n\tlist-style: none;\n}\n\n.contact-list-view {\n\toverflow-y: auto;\n}\n\n.contact-list-view .remove {\n    color: #aaa;\n    opacity: 0;\n}\n\n.contact-list-view .contact:hover .remove {\n    opacity: 1;\n}"});
define("curl/plugin/css!contacts/app/list/structure.css",["curl/plugin/style!contacts/app/list/structure.css"],function(a){return a});
(function(a){a("wire/lib/functional",["require","when/when"],function(a,d){function f(a){var b;b=a[0];a=a.slice(1);return function(){var d=this;return a.reduce(function(a,b){var c=function(a){return b.call(d,a)};return j.isPromise(a)?j(a,c,void 0):c(a)},b.apply(this,arguments))}}var j,e;j=d;e=[].slice;f.parse=function(a,b,d){function l(a,b){return function(){return a.invoke(b,arguments)}}var m,r;if("string"!=typeof b)return d(b).then(function(b){return l(a,b)});b=b.split(/\s*\|\s*/);m=d.resolveRef;
r=d.getProxy;return j.reduce(b,function(b,d){var h=j,n;var k;n=d.split(".");if(2<n.length)throw Error('Only 1 "." is allowed in refs: '+d);1<n.length?(k=n[1],n=n[0],n=!n?function(a){return a[k].apply(a,e.call(arguments,1))}:j(r(n),function(a){return l(a,k)})):n=a&&"function"==typeof a.get(d)?l(a,d):m(d);return h(n,function(a){b.push(a);return b})},[]).then(function(b){var d=a&&a.target;return(1==b.length?b[0]:f(b)).bind(d)})};return{compose:f,partial:function(a,b){if(1==arguments.length)return a;
b=e.call(arguments,1);return function(){return a.apply(this,b.concat(e.call(arguments)))}}}})})("function"==typeof define?define:function(a){module.exports=a(require)});
(function(a){a("cola/dom/adapter/Node",["require","cola/dom/bindingHandler","cola/dom/guess"],function(a,d,f){function j(a,b){this._rootNode=a;var d,l;l=b.bindings||{};(d=(b.nodeFinder||b.querySelectorAll||b.querySelector)("[name],[data-cola-binding]",this._rootNode))&&Array.prototype.forEach.call(d,function(a){var b;b=a.name?"name":"data-cola-binding";(a=e.getNodePropOrAttr(a,b))&&!(a in l)&&(l[a]="["+b+'="'+a+'"]')});b.bindings=l;this._options=b;this._handlers={};this._createItemToDomHandlers(b.bindings)}
var e;e=f;j.prototype={getOptions:function(){return this._options},set:function(a){this._item=a;this._itemToDom(a,this._handlers)},update:function(a){this._item=a;this._itemToDom(a,a)},destroy:function(){this._handlers.forEach(function(a){a.unlisten&&a.unlisten()})},properties:function(a){a(this._item)},_itemToDom:function(a,b){var d,l;for(d in b)(l=this._handlers[d])&&l(a)},_createItemToDomHandlers:function(a){var b;b=d(this._rootNode,this._options);Object.keys(a).forEach(function(d){this._handlers[d]=
b(a[d],d)},this)}};j.canHandle=function(a){return a&&a.tagName&&a.getAttribute&&a.setAttribute};return j})})("function"==typeof define?define:function(a){module.exports=a(require)});
define("wire/lib/plugin-base/dom",["wire/domReady","when/when","wire/lib/dom/base","wire/lib/object"],function(a,q,d,f){function j(a,c,b){q(b(c.options),function(a){if(!a||!a.nodeType||!a.tagName)throw Error("dom: non-element reference provided to element factory");return a}).then(a.resolve,a.reject)}return function(e){function c(a,b){var c;if(!b)return a.resolve(g);(c=g(b))?a.resolve(c):a.reject(Error("No DOM node with id: "+b))}function b(a,b,c){var d,k,g;k=b.options;d=b.target;for(var h in k)if(f.hasOwn(k,
h)){g=h;break}b=c("string"==typeof k[g]?{$ref:k[g]}:k[g]);q(b,function(a){return s(d,a,g)}).then(a.resolve,a.reject)}function h(a,b,c,d,k){var g;k||(k=p);if(!b)return a.resolve(k);c.at&&!c.isRoot&&(g=d(m(c.at)));q(g,function(a){var d;d=k;a=d(b,a);if("undefined"!=typeof c.i)if(d=c.i,a[d])d=a[d];else throw Error("Query '"+b+"' did not find an item at position "+d);else{if(d==t&&!a)throw Error("Query '"+b+"' did not find anything");d=a}return d}).then(a.resolve,a.reject)}function l(a,b,c,d){v(a,b,c,
d,t)}function m(a){if(a="string"==typeof a?{$ref:a}:a)a.isRoot=!0;return a}function r(a,b){return function(c,d,k,g){k.at=k.at?m(k.at):b.at;return a(c,d,k,g)}}var g,p,t,n,k,s,u,w,v;g=e.byId||d.byId;p=e.query||d.querySelectorAll;t=e.first||d.querySelector;n=e.addClass;s=e.placeAt||d.placeAt;k=e.removeClass;u=function(b,d){a(function(){u=c;c(b,d)})};w=function(c,d,k){a(function(){w=b;b(c,d,k)})};v=function(b,c,d,k,g){a(function(){v=h;h(b,c,d,k,g)})};return function(b){var c,g,h,e,f,s;b.at=m(b.at);c=
b.classes;f={};c&&(a(function(){s=document.getElementsByTagName("html")[0]}),f.initialize=function(b){a(function(){var a=s,d=c.init;d&&n(a,d);b.resolve()})},f.ready=function(b){a(function(){var a=s,d=c.ready,g=c.init;d&&n(a,d);g&&k(a,g);b.resolve()})},c.ready&&(f.destroy=function(b){a(function(){var a=s,d=c.ready;d&&k(a,d);b.resolve()})}));e={element:j};h={insert:{initialize:w}};g={};g.id=g.dom=u;p&&(g.first=r(l,b),g["dom.first"]=function(){g.first.apply(g,arguments)},g.all=g.query=r(v,b),g["dom.all"]=
g["dom.query"]=function(){g.query.apply(g,arguments)});return{context:f,resolvers:g,facets:h,factories:e,proxies:[d.proxyNode]}}}});define("contacts/theme/basic.css",["curl/plugin/style","require"],function(){return".cujo-contacts fieldset {\n\tborder: none;\n}\n\n.cujo-contacts input[type=\"text\"] {\n    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n    font-size: 1em;\n    margin: .5em 0 1em 0;\n}\n\n::-webkit-input-placeholder {\n    color: #acacac;\n}\n:-moz-placeholder {\n    color: #acacac;\n}\n::-moz-placeholder {\n    color: #acacac;\n}\n:-ms-input-placeholder {\n    color: #acacac;\n}\n\n.cujo-contacts label {\n    color: #acacac;\n    font-weight: normal;\n}\n\n.cujo-contacts {\n\twidth: auto;\n    margin: 0 auto;\n\toverflow: visible;\n}\n\n.cujo-contacts  .contacts-view-container {\n\tposition: relative;\n\theight: 100%;\n\twidth: auto;\n\tmin-height: 400px;\n\toverflow: hidden;\n\tclear: both;\n}\n\n.cujo-contacts .contact-list-view {\n    background-color: #fafafa;\n    cursor: pointer;\n}\n"});
define("curl/plugin/css!contacts/theme/basic.css",["curl/plugin/style!contacts/theme/basic.css"],function(a){return a});
(function(a){a("wire/lib/loader",["require","when/when","wire/lib/object"],function(a,d,f){function j(a,b){return e.reduce(a,function(a,d){return"string"==typeof d?e(b(d),function(b){return c(a,b)}):c(a,d)},{})}var e,c,b;e=d;c=f.mixin;b="object"==typeof exports?function(a){return function(b){try{return e.resolve(a(b))}catch(c){return e.reject(c)}}}:function(a){return function(b){var c=e.defer();a([b],c.resolve,c.reject);return c.promise}};return function(c,d){var f="function"==typeof c?b(c):d||b(a);
return{load:f,merge:function(a){return e(a,function(a){return e.resolve(Array.isArray(a)?j(a,f):"string"===typeof a?f(a):a)})}}}})})("function"===typeof define?define:function(a){module.exports=a(require)});
(function(a){a("cola/dom/adapter/NodeList",["require","cola/SortedMap","cola/dom/classList","cola/dom/adapter/Node"],function(a,d,f,j){function e(a,d){var l,e;d||(d={});this._options=d;this.comparator=d.comparator;this.identifier=d.identifier;this._rootNode=a;l=d;var k,f;k=!l.itemTemplateSelector;l.querySelector&&(f=l.querySelector(l.itemTemplateSelector||b,a),!f&&k&&(f=l.querySelector(h,a)));!f&&k&&(f=a.firstChild);if(!f)throw Error("NodeListAdapter: could not find itemTemplate node");this._templateNode=
f;l=d.containerNode||this._templateNode.parentNode;if(!l)throw Error("No container node found for NodeListAdapter.");this._containerNode=l;this._initTemplateNode();this._itemCount=r;this._checkBoundState();e=this;this._itemData=new c(function(a){return e.identifier(a)},function(a,b){return e.comparator(a,b)});this._itemsById={}}var c,b,h,l,m,r;c=d;b='[data-cola-role="item-template"]';h="tr,li";l={empty:"cola-list-empty",bound:"cola-list-bound",unbound:"cola-list-unbound"};m=Object.keys(l).map(function(a){return l[a]}).join(" ");
e.prototype={add:function(a){var b,c;b=this._createNodeAdapter(a);c=this._itemData.add(a,b);0<=c&&(this._itemCount=(this._itemCount||0)+1,this._insertNodeAt(b._rootNode,c),this._checkBoundState(),this._itemsById[this.identifier(a)]=a)},remove:function(a){var b;b=this._itemData.get(a);this._itemData.remove(a);b&&(this._itemCount--,b=b._rootNode,b.parentNode.removeChild(b),this._checkBoundState(),delete this._itemsById[this.identifier(a)])},update:function(a){var b,c,d;if(b=this._itemData.get(a)){this._updating=
b;try{b.update(a),this._itemData.remove(a),c=this._itemData.add(a,b),d=this.identifier(a),this._itemsById[d]=a,this._insertNodeAt(b._rootNode,c)}finally{delete this._updating}}else this.add(a)},forEach:function(a){this._itemData.forEach(a)},setComparator:function(a){var b=0,c=this;this.comparator=a;this._itemData.setComparator(a);this._itemData.forEach(function(a){c._insertNodeAt(a._rootNode,b++)})},getOptions:function(){return this._options},findItem:function(a){var b,c;if(a&&a.target&&a.stopPropagation&&
a.preventDefault||a&&a.nodeName&&1==a.nodeType)if(a=a.nodeType?a:a.target||a.srcElement){b=this._options.idAttribute||"data-cola-id";do c=a.getAttribute(b);while(null==c&&(a=a.parentNode)&&1==a.nodeType);return null!=c&&this._itemsById[c]}},findNode:function(a){var b;if(a)return a="string"==typeof a||"number"==typeof a?this._itemsById[a]:this.findItem(a)||a,null!=a&&(b=this._itemData.get(a)),b&&b._rootNode},comparator:r,identifier:r,destroy:function(){this._itemData.forEach(function(a){a.destroy()})},
_initTemplateNode:function(){var a=this._templateNode;a.parentNode&&a.parentNode.removeChild(a);a.style.display&&(a.style.display="");a.id&&(a.id="")},_createNodeAdapter:function(a){var b,c,d,k;b=this._templateNode.cloneNode(!0);c=new j(b,this._options);c.set(a);this.identifier&&(b=this._options.idAttribute||"data-cola-id",c._rootNode.setAttribute(b,this.identifier(a)));d=c.update;k=this;c.update=function(a){d.call(c,a);k._updating!=c&&k.update(a)};return c},_insertNodeAt:function(a,b){var c,d;c=
this._containerNode;d=c.childNodes[b];a!=d&&c.insertBefore(a,d)},_checkBoundState:function(){var a,b,c;a=[];b=null!=this._itemCount;c=0==this._itemCount;b||a.push(l.unbound);c&&a.push(l.empty);b&&!c&&a.push(l.bound);a=a.join(" ");b=this._rootNode;b.className=f.addClass(a,f.removeClass(m,b.className))}};e.canHandle=function(a){return a&&a.tagName&&a.insertBefore&&a.removeChild};return e})})("function"==typeof define?define:function(a){module.exports=a(require)});
define("wire/dom",["wire/lib/plugin-base/dom","wire/lib/dom/base"],function(a,q){return a({addClass:q.addClass,removeClass:q.removeClass})});
(function(a){a("cola/hub/eventProcessor",["require","when/when","cola/enqueue"],function(a,d,f){return{makeBeforeEventName:function(a){return"before"+a.charAt(0).toUpperCase()+a.substr(1)},makeEventName:function(a){return"on"+a.charAt(0).toUpperCase()+a.substr(1)},queueEvent:function(a,d,c){var b=0==this.queue.length;this.queue.push({source:a,data:d,type:c});return b&&this._dispatchNextEvent()},processEvent:function(a,e,c){var b=this;return this.inflight=d(this.inflight).always(function(){return b.eventProcessor(a,
e,c)})},_dispatchNextEvent:function(){var a,e,c,b;b=this;a=this.queue.shift();e=this.queue.length;c=d.defer();f(function(){var d=a&&b.processEvent(a.source,a.data,a.type);c.resolve(d)});e&&c.promise.always(function(){b._dispatchNextEvent()});return c.promise}}})})("function"===typeof define?define:function(a){module.exports=a(require)});
(function(a){a("cola/adapter/Query",["require","when/when","cola/SortedMap"],function(a,d,f){function j(a,d){var l,f,j;if(!a)throw Error("cola/QueryAdapter: datasource must be provided");this._datasource=a;d||(d={});this._options=d;"provide"in d&&(this.provide=d.provide);l=this.identifier=function(c){return a.getIdentity(c)};this.comparator=this._options.comparator||function(a,b){var c,d;c=l(a);d=l(b);return c==d?0:c<d?-1:1};this._items=new c(l,this.comparator);f=a.query;j=this;a.query=function(){return j._queue(function(){return e(f.call(a,
arguments),function(a){j._items=new c(j.identifier,j.comparator);j._initResultSet(a);return a})})}}var e,c;e=d;c=f;j.prototype={provide:!0,comparator:void 0,identifier:void 0,query:function(a){return this._datasource.query.apply(this._datasource,arguments)},_queue:function(a){return this._inflight=e(this._inflight,function(){return a()})},_initResultSet:function(a){var c,d,e,f;c=this._items;c.clear();d=0;for(e=a.length;d<e;d++)f=a[d],c.add(f,f),this.add(f)},getOptions:function(){return this._options},
forEach:function(a){var c=this;return this._queue(function(){return c._items.forEach(a)})},add:function(a){var c;if(0<=this._items.add(a,a)&&!this._dontCallDatasource)return c=this,e(this._datasource.add(a),function(a){c._itemWasUpdatedByDatasource(a)&&c._execMethodWithoutCallingDatasource("update",a)},function(d){c._execMethodWithoutCallingDatasource("remove",a);throw d;})},remove:function(a){if(0<=this._items.remove(a)&&!this._dontCallDatasource){var c=this._datasource.getIdentity(a);return e(this._datasource.remove(c),
null,function(c){self._execMethodWithoutCallingDatasource("add",a);throw c;})}},update:function(a){var c,d;if(c=this._items.get(a))if(this._replace(c,a),!this._dontCallDatasource)return d=this,e(this._datasource.put(a),function(a){d._itemWasUpdatedByDatasource(a)&&d._execMethodWithoutCallingDatasource("update",a)},function(a){d._execMethodWithoutCallingDatasource("update",c);throw a;})},_replace:function(a,c){this._items.remove(a);this._items.add(c,c)},_itemWasUpdatedByDatasource:function(a){a:if(a){for(var c in a){a=
!0;break a}a=void 0}else a=!1;return a},_execMethodWithoutCallingDatasource:function(a,c){this._dontCallDatasource=!0;try{return this[a](c)}finally{this._dontCallDatasource=!1}},clear:function(){this._initResultSet([])}};j.canHandle=function(a){return a&&"function"==typeof a.query&&!(a instanceof j)};return j})})("function"==typeof define?define:function(a){module.exports=a(require)});
(function(a){a("cola/network/strategy/compose",["require","when/when"],function(a,d){function f(a){return a}return function(a){return function(e,c,b,h,l){return d.reduce(a,function(a,f){var g=f(e,c,b,h,l);return l.isCanceled()?d.reject(g):g},b).then(f,f)}}})})("function"==typeof define&&define.amd?define:function(a){module.exports=a(require)});
(function(a){a("cola/collectionAdapterResolver",["require","cola/adapterResolver","cola/adapter/Array","cola/dom/adapter/NodeList","cola/adapter/Query"],function(a,d,f,j,e){return Object.create(d,{adapters:{value:[f,j,e]}})})})("function"===typeof define?define:function(a){module.exports=a(require)});
(function(a){a("wire/lib/connection",["require","when/when","wire/lib/array","wire/lib/functional"],function(a,d,f,j){function e(a,c,d,e,f,j,k){var s;c?e=h(l.compose.parse(d,f,j),function(h){return k(a,c,b(d,h))}):(a=s,e=h(j.resolveRef(e),function(a){function c(a,d,g){return function(c){return k(a,d,b(g,c))}}var e,m;m=[];for(e in f)m.push(h(l.compose.parse(d,f[e],j),c(a,e,d)));return h.all(m)}));return e}function c(a,c,d,e,f){var j=a.target,k=function(a,d){return h(l.compose.parse(a,d,e),function(d){return f(j,
c,b(a,d))})},s,u;if("string"==typeof d)d=k(a,d);else{a=[];s=function(a,b){return h(e.getProxy(a),function(a){return k(a,b)})};for(u in d)a.push(s(u,d[u]));d=h.all(a)}return d}function b(a,b){return function(){return a.invoke(b,arguments)}}var h,l;h=d;l=j;return{parse:function(a,b,d,l,f){var j,k;j=b.split(".");k=j[1];j=j[0];return h(l.resolveRef(j),function(c){return e(c,k,a,b,d,l,f)},function(){return c(a,b,d,l,f)})},parseIncoming:e,parseOutgoing:c}})})("function"==typeof define?define:function(a){module.exports=
a(require)});
(function(a){a("wire/lib/advice",["require","when/when"],function(a,d){return{after:function(a,d){return function(){return d.call(this,a.apply(this,arguments))}},beforeAsync:function(a,j){return function(){var e,c;e=this;c=arguments;return d(c,function(){return j.apply(e,c)}).then(function(){return a.apply(e,c)})}},afterAsync:function(a,j){return function(){var e=this;return d(arguments,function(c){return a.apply(e,c)}).then(function(a){return j.call(e,a)})}}}})})("function"===typeof define&&define.amd?
define:function(a){module.exports=a(require)});
(function(a){a("wire/aop",["require","meld/meld","when/when","when/sequence","wire/lib/connection"],function(a,d,f,j,e){function c(a,b,c){return function(d){return s(c.resolveRef(a),function(a){var k;b?k=s(c(b),function(b){b=b?[d].concat(b):[d];a.apply(null,b)}):(k=(k=void 0,[d]),a.apply(null,k),k=void 0);return k})}}function b(a,b,d){var k,g;k=b.target;b=b.options;g=[];for(var h in b)g.push(c(h,b[h],d));a.resolve(u(g,k))}function h(a,b,c,d,k,g){return w.parse(c,d,k,g,function(c,d,k){if(!("function"==
typeof d||"function"==typeof c[d]))throw new TypeError("Cannot add advice to non-method: "+d);b.push(a(c,d,k))})}function l(a){return function(b,c,d){return k[a](b,c,d)}}function m(a,b,c){return k.afterReturning(a,b,function(a){return s(a,c)})}function r(a,b,c){return k.afterReturning(a,b,function(a){return s(a,null,c)})}function g(a,b,c){return k.after(a,b,function(a){return s(a,c,c)})}function p(a,b){return function(c,d,k){var g,l,e;l=d.options;e=[];for(g in l)e.push(h(a,b,d,g,l[g],k));c.resolve(s.all(e))}}
function t(a,b,c,d){return s(c.resolveRef(b),function(b){var c=b.pointcut;c&&d(a,c,b);return a})}function n(a,b,c,d){function k(b){return s(c.resolveRef(h),function(c){d(a,b,c);return a})}var g,h;g=b.pointcut;h=b.advice;return"string"===typeof g?s(c.resolveRef(g,k)):k(g)}var k,s,u,w,v;k=d;s=f;u=j;w=e;v=["before","around","afterReturning","afterThrowing"];return function(a){function c(a,b,d){h.push(k.add(a,b,d))}function d(a,b){var c={};c[a]=function(a,c,d){b(a,c,d)};return c}var h,e,f,j,u;h=[];e=
{context:{destroy:function(a){h.forEach(function(a){a.remove()});a.resolve()}},facets:{decorate:d("configure:after",b),afterFulfilling:d("connect:before",p(m,h)),afterRejecting:d("connect:before",p(r,h)),after:d("connect:before",p(g,h))}};a.aspects&&(e.create=function(b,d,k){var g,h,e;h=a.aspects;g=d.path;!h||void 0===g?b.resolve():(d=d.target,e=t,b.resolve(s.reduce(h,function(a,b){var d;b.advice?(d=b.advice,e=n):d=b;return"string"===typeof d&&d!==g?e(a,b,k,c):a},d)))});f=0;for(j=v.length;f<j;f++)u=
v[f],e.facets[u]=d("connect:before",p(l(u),h));return e}})})("function"==typeof define?define:function(a){module.exports=a(require)});
(function(a){a("wire/lib/plugin/registry",["require","when/when","wire/lib/array","wire/lib/object","wire/lib/plugin/priority"],function(a,d,f,j,e){function c(){this.plugins=[];this._namespaces={};this.contextListeners=[];this.listeners=[];this.proxiers=[];this.resolvers={};this.factories={};this.facets={}}function b(a){var b;"object"===typeof a&&m in a&&(b=a[m]);return b}function h(a,b,c){var d,k;for(d in a){k=c?c+r+d:d;if(l.hasOwn(b,k))throw Error("Two plugins for same type in scope: "+k);b[k]=
a[d]}}var l,m,r;l=j;m="$ns";r=":";c.prototype={scanModule:function(a,c,h){var e,k;"function"===typeof a.wire$plugin?k=a.wire$plugin:"function"===typeof a&&(k=a);a=k;if(!("function"===typeof a&&-1===this.plugins.indexOf(a)))return d.resolve();this.plugins.push(a);e=this;return d(a(c),function(a){a&&e.registerPlugin(a,h||b(c))}).yield()},registerPlugin:function(a,b){var c=this._namespaces;if(b&&b in c)throw Error("plugin namespace already in use: "+b);c[b]=1;h(a.resolvers,this.resolvers,b);h(a.factories,
this.factories,b);h(a.facets,this.facets,b);this.listeners.push(a);a.context&&this.contextListeners.push(a.context);this._registerProxies(a.proxies)},_registerProxies:function(a){a&&(this.proxiers=e.sortReverse(f.union(this.proxiers,a)))}};return c})})("function"===typeof define?define:function(a){module.exports=a(require)});
(function(a){a("wire/connect",["when/when","meld/meld","wire/lib/functional","wire/lib/connection"],function(a,d,f,j){return function(){function e(a,c,e){b.push(d.on(a,c,e))}function c(b,c){var d,f;f=c.options;d=Object.keys(f).map(function(a){return j.parse(c,a,f[a],b,e)});return a.all(d)}var b=[];return{context:{destroy:function(a){b.forEach(function(a){a.remove()});a.resolve()}},facets:{connect:{connect:function(a,b,d){a.resolve(c(d,b))}}}}}})})("function"==typeof define?define:function(a,q){module.exports=
q.apply(this,a.map(function(a){return require(a)}))});
(function(a){a("wire/lib/plugin-base/on",["when/when","when/apply","wire/lib/functional","wire/lib/connection"],function(a,d,f,j){function e(a){var b,d,g;if(b=a.selectorTarget||a.target||a.srcElement)d=b.tagName,g=b.type&&b.type.toLowerCase(),(b="click"==a.type&&"A"==d||"submit"==g&&b.form||"submit"==a.type&&"FORM"==d)&&c(a)}function c(a){a.preventDefault()}function b(a){a.stopPropagation()}function h(){}function l(a,d,g){var l,f;l=d==t||"auto"==d?e:d?c:h;f=g?b:h;return function(b){l(b);f(b);return a.apply(this,
arguments)}}function m(a,b){var c,d;c=a.split(":",2);d=c[0];c=c[1]||b;if(g.test(d))throw Error("on! resolver: malformed event-selector string (event missing?)");d=d.split(p);c&&(d.selector=c);return d}var r,g,p,t;r={selector:1,transform:1,preventDefault:1,stopPropagation:1};g=/#|\.|-|[^,]\s[^,]/;p=/\s*,\s*/;return function(b){function c(a,b,d,k,e){var h,f;h=[];for(var j=0,m=a.length;j<m;j++)f=l(d,k,e),h.push(g(b,a[j],f,a.selector));return h}function d(a){var b;b=m(a,"");return function(){var a,c,
d,k;a=Array.prototype.slice.call(arguments,0,3);c=1<a.length?a.shift():document;d=a[0];k=[];b.forEach(function(a){k.push(g(c,a,d,b.selector))});return function(){k.forEach(function(a){a()})}}}var g;g=b.on;return function(b){function h(a,d,g){d=m(d);n=n.concat(c(d,a,g,b.preventDefault,b.stopPropagation))}function e(d,g,l,s){return a(s.resolveRef(g),function(g){var e=function(b,h,e){return a(e,function(a){var e=f.compose([a,h]).bind(d.target);n=n.concat(c(b,g,function(){return d.invoke(e,arguments)},
z,B))})},u,p,t,x,z,B,F,D,C;u=d.target;C=[];x=l.selector;D=l.transform;z=l.preventDefault||b.preventDefault;B=l.stopPropagation||b.stopPropagation;for(p in l)p in r||(D?(t=m(p,x),F=l[p],C.push(e(t,u[F],s(D)))):C.push(j.parseIncoming(g,p,d,b,l[p],s,h)));return a.all(C)},function(){return j.parseOutgoing(d,g,l,s,h)})}function l(b,c){var d,k;k=c.options;d=[];for(var g in k)d.push(e(c,g,k[g],b));return a.all(d)}var n=[];b||(b={});return{context:{destroy:function(a){n.forEach(function(a){a()});a.resolve()}},
facets:{on:{connect:function(a,b,c){a.resolve(l(c,b))}}},resolvers:{on:function(a,b){a.resolve(b?d(b):g)}}}}}})})("function"==typeof define&&define.amd?define:function(a,q){module.exports=q.apply(this,a.map(require))});
(function(a){a("cola/network/strategy/minimal","require cola/network/strategy/compose cola/network/strategy/base cola/network/strategy/targetFirstItem cola/network/strategy/syncAfterJoin cola/network/strategy/syncDataDirectly".split(" "),function(a,d,f,j,e,c){return function(a){var h;h=[e(a),c(a)];a&&a.targetFirstItem&&h.push(j(a));h.push(f(a));return d(h)}})})("function"==typeof define&&define.amd?define:function(a){module.exports=a(require)});
(function(a){a("wire/on",["wire/lib/plugin-base/on","wire/lib/dom/base"],function(a,d){function f(a,c,b,h){if(h){var l=b;b=function(b){var c,g,f,q,n;c=b.target;g=d.querySelectorAll(h,a);f=0;for(q=g.length;f<q;f++)if(n=g[f],c==n||j(n,c))return b.selectorTarget=n,l(b)}}a.addEventListener(c,b,!1);return function(){a.removeEventListener(a,b,!1)}}var j;f.wire$plugin=a({on:f});j=document&&document.compareDocumentPosition?function(a,c){return 16==(a.compareDocumentPosition(c)&16)}:function(a,c){return a.contains(c)};
return f})})("function"==typeof define&&define.amd?define:function(a,q){module.exports=q.apply(this,a.map(require))});
(function(a){a("wire/lib/ComponentFactory",["require","when/when","wire/lib/object","wire/lib/WireProxy"],function(a,d,f,j){function e(a,b,d){this.plugins=b;this.pluginApi=d;this.lifecycle=a;this.proxies=[]}e.prototype={create:function(a){var b;return(b=this.getFactory(a.spec))?this._create(a,b.factory,b.options):d.reject(a)},_create:function(a,b,h){var e,f;e=d.defer();f=this;b(e.resolver,h,this.pluginApi.contextualize(a.id));return e.promise.then(function(b){return f.processComponent(a,b)})},processComponent:function(a,
b){var d,e;d=this;e=this.createProxy(b,a);return d.initInstance(e).then(function(a){return d.startupInstance(a)}).then(j.getTarget)},initInstance:function(a){return this.lifecycle.init(a)},startupInstance:function(a){return this.lifecycle.startup(a)},createProxy:function(a,b){var d;j.isProxy(a)?(d=a,j.getTarget(d)):d=j.create(a);b&&(d.id=b.id,d.metadata=b);return this.initProxy(d)},initProxy:function(a){a=this.plugins.proxiers.reduce(function(a,c){var d=c(a);return j.isProxy(d)?d:a},a);this._registerProxy(a);
return a},destroy:function(){var a,b;a=this.proxies;b=this.lifecycle;return d.reduce(a,function(a,c){return b.shutdown(c)},void 0).then(function(){return d.reduce(a,function(a,b){return b.destroy()},void 0)})},_registerProxy:function(a){a.metadata&&(a.path=a.metadata.path,this.proxies.push(a))},getFactory:function(a){var b,d,e;d=this.plugins.factories;for(b in d)if(f.hasOwn(a,b)){e={factory:d[b],options:{options:a[b],spec:a}};break}return e}};return e})})("function"===typeof define&&define.amd?define:
function(a){module.exports=a(require)});(function(a){a("cola/network/strategy/default","require cola/network/strategy/compose cola/network/strategy/minimal cola/network/strategy/collectThenDeliver cola/network/strategy/validate cola/network/strategy/changeEvent".split(" "),function(a,d,f,j,e,c){return function(a){return d([e(a),j(a),c(a),f(a)])}})})("function"==typeof define&&define.amd?define:function(a){module.exports=a(require)});
(function(a){a("wire/lib/lifecycle",["require","when/when"],function(a,d){function f(a,b){this._plugins=a;this._pluginApi=b}function j(a){a=a.reduce(c,[]);return function(c){var d,g;d=this._plugins;g=this._pluginApi.contextualize(c.id);return b.reduce(a,function(a,f){var l;var k,j,u,q,v,x;l=[];u=c.metadata.spec;q=d.facets;v=Object.create(d.factories,h);x=[];for(j in u)j in q?(k=u[j])&&e(l,q[j],f,c,k,g):j in v||x.push(j);l=x.length?b.reject(Error("unrecognized facets in "+c.id+", maybe you forgot a plugin? "+
x.join(", ")+"\n"+JSON.stringify(u))):b.all(l).then(function(){for(var a=d.listeners,k=[],h=0;h<a.length;h++)e(k,a[h],f,c,{},g);return b.all(k)}).yield(c);return l},c)}}function e(a,c,d,g,e,f){var h;c&&c[d]&&(h=b.defer(),a.push(h.promise),a=Object.create(g),a.options=e,c[d](h.resolver,a,f))}function c(a,b){a.push(b+":before");a.push(b);a.push(b+":after");return a}var b,h;b=d;h={id:{value:1}};f.prototype={init:j(["create","configure","initialize"]),startup:j(["connect","ready"]),shutdown:j(["destroy"])};
return f})})("function"==typeof define?define:function(a){module.exports=a(require)});
(function(a){a("wire/lib/plugin/wirePlugin",["require","when/when","wire/lib/object"],function(a,d,f){function j(a,c,d,e){a.resolve(e.createChild)}var e,c;e=d;c=f;return function(){var a=e.defer();return{context:{ready:function(c){a.resolve();c.resolve()}},resolvers:{wire:j},factories:{wire:function(d,f,j){function q(a){var b;n&&(b=e(j(n),function(b){c.mixin(a.instances,b)}));return b}function g(a){a=a?[].concat(t,a):t;a=j.createChild(a,{initializers:[q]});return k?a:e(a,function(a){return c.hasOwn(a,
"$exports")?a.$exports:a})}var p,t,n,k,s;p=f.options;c.isObject(p)&&"spec"in p?(t=p.spec,s=p.waitParent,k=p.defer,n=p.provide):t=p;f=k?g:s?{promise:e(a.promise,function(){return g()})}:g(f.spec);d.resolve(f)}}}}})})("function"===typeof define?define:function(a){module.exports=a(require)});
(function(a){a("when/timeout",["require","when/when"],function(a,d){return function(a,j){var e,c;e=d.defer();c=setTimeout(function(){c&&e.reject(Error("timed out"))},j);d(a,function(a){clearTimeout(c);c=void 0;e.resolve(a)},function(a){clearTimeout(c);c=void 0;e.reject(a)},e.notify);return e.promise}})})("function"===typeof define&&define.amd?define:function(a){module.exports=a(require)});
(function(a){a("wire/lib/graph/trackInflightRefs",["require","when/timeout","wire/lib/graph/tarjan","wire/lib/graph/formatCycles"],function(a,d,f,j){return function(a,c,b){var h=c.create;"number"!=typeof b&&(b=5E3);c.create=function(){var l,m;l=h.apply(c,arguments);m=l.resolve;l.resolve=function(){var c=m.apply(l,arguments),g=b,h=c,q=l.name,n=arguments[1],n=n||"?";a.addEdge(n,q);return d(h,g).then(function(b){a.removeEdge(n,q);return b},function(){var b;b=f(a).filter(function(a){return 1<a.length});
if(b.length)throw Error("Possible circular refs:\n"+j(b));return h})};return l};return c}})})("function"===typeof define&&define.amd?define:function(a){module.exports=a(require)});
(function(a){a("wire/lib/resolver",["require","when/when","when/timeout","wire/lib/object"],function(a,d,f,j){function e(a,b){this._resolvers=a;this._pluginApi=b}e.prototype={isRef:function(a){return a&&j.hasOwn(a,"$ref")},parse:function(a){return this.isRef(a)?this.create(a.$ref,a):this.create(a,{})},create:function(a,b){var d,e,f;d=this;e=a.indexOf("!");f=a.substring(0,e);a=a.substring(e+1);return{resolver:f,name:a,options:b,resolve:function(e,g){return this.resolver?d._resolve(f,a,b,g):e(a,b)}}},
_resolve:function(a,b,e,f){var j,q;j=d.defer();a?(q=this._resolvers[a])?(a=this._pluginApi.contextualize(f),q(j.resolver,b,e||{},a)):j.reject(Error("No resolver plugin found: "+a)):j.reject(Error("Cannot resolve ref: "+b));return j.promise}};return e})})("function"==typeof define?define:function(a){module.exports=a(require)});
(function(a){a("cola/hub/Base",["require","when/when","cola/hub/eventProcessor","cola/network/strategy/default","cola/identifier/default"],function(a,d,f,j,e){function c(a){var b;this.adapters=[];a||(a={});this.identifier=a.identifier||m;this.eventProcessor=Object.create(l,{queue:{value:[]},eventProcessor:{value:this.processEvent.bind(this)}});a=this.eventTypes;for(b in a)this.addApi(b)}function b(a,b){return function(){return b.apply(a,arguments)}}function h(a,b,c,d){return b[c]=function(g){a.queueEvent(b,
g,c);return d.call(b,g)}}var l,m,r,g,p,t;l=f;m=e;r={};g={};p={};t={};c.prototype={eventTypes:{update:1,change:1,validate:1,abort:1,submit:1,edit:1,join:1,sync:1,leave:1},dispatchEvent:function(a,b){try{return this[a](b)}catch(c){return!1}},createAdapter:function(a,b){var c=this.resolver.resolve(a);return c?new c(a,b):a},addSource:function(a,b){var c,d;b||(b={});b.identifier||(b.identifier=this.identifier);c=this.createAdapter(a,b);d=this._createAdapterProxy(c,b);d.origSource=a;this.adapters.push(d);
this.eventProcessor.processEvent(d,null,"join");return c},processEvent:function(a,b,c){var e,f,h,j,m;e={};h=this;j=this.strategy;m=this.adapters;return d(h.dispatchEvent(l.makeBeforeEventName(c),b)).then(function(l){e.canceled=!1===l;if(e.canceled)return d.reject(e);e.phase=r;var m=h.eventProcessor;f={queueEvent:function(a,b,c){return m.queueEvent(a,b,c)},cancel:function(){e.canceled=!0},isCanceled:function(){return!!e.canceled},handle:function(){e.handled=!0},isHandled:function(){return!!e.handled},
isBefore:function(){return e.phase==r},isAfter:function(){return e.phase==p},isAfterCanceled:function(){return e.phase==t},isPropagating:function(){return e.phase==g}};return j(a,void 0,b,c,f)}).then(function(){e.phase=g;return d.map(m,function(d){if(a!=d)return j(a,d,b,c,f)})}).then(function(){e.phase=e.canceled?t:p;return j(a,void 0,b,c,f)}).then(function(a){e.canceled=!1===a;return e.canceled?d.reject(e):h.dispatchEvent(l.makeEventName(c),b)}).then(function(){return e})},destroy:function(){var a,
b;for(a=this.adapters;b=a.pop();)"function"==typeof b.destroy&&b.destroy()},addApi:function(a){this._addApiMethod(a);this._addApiEvent(a)},_createAdapterProxy:function(a,c){var d,e,g,f;f=Object.create(a);"provide"in c&&(f.provide=c.provide);d=this.configureEventFinder(c.eventNames);for(e in a)g=a[e],"function"==typeof g&&d(e)&&(f[e]=b(a,g),h(this.eventProcessor,a,e,g),this.addApi(e));return f},configureEventFinder:function(a){var b=this.eventTypes;return"function"==typeof a?a:function(a){return a in
b}},_addApiMethod:function(a){var b,c,d;b=this.adapters;d=this.eventProcessor;c=this;this[a]||(this[a]=function(e,g){var f;f=c._findItemFor(e);if(!f){var h,j;for(f=0;!j&&(h=b[f++]);)h.origSource==g&&(j=h);f={item:e,source:j}}return d.queueEvent(f.source,f.item,a)})},_addApiEvent:function(a){var b=this.eventProcessor.makeEventName(a);this[b]||(this[b]=function(){});b=this.eventProcessor.makeBeforeEventName(a);this[b]||(this[b]=function(){})},_findItemFor:function(a){var b,c,d,e;d=this.adapters;for(c=
0;!b&&(e=d[c++]);)e.findItem&&(b=e.findItem(a));return b&&{item:b}}};return c})})("function"===typeof define?define:function(a){module.exports=a(require)});
(function(a){a("wire/lib/plugin/basePlugin","require when/when wire/lib/object wire/lib/functional wire/lib/instantiate wire/lib/invoker".split(" "),function(a,d,f,j,e,c){function b(a,b,c,d){return r(d(c,a,b.path),function(c){return b.invoke(a,Array.isArray(c)?c:[c])})}function h(a,c){var d=a.options;if("string"==typeof d)return b(d,a,[],c);var e,f;e=[];for(f in d)e.push(b(f,a,d[f],c));return g(e)}function l(a,b){var c,d;for(c in b)if(d=b[c],!(c in a)||a[c]!==d&&(!(c in p)||p[c]!==d))a[c]=d;return a}
function m(a,b,c){a.resolve(h(b,c))}var r,g,p,t;r=d;g=r.all;p={};t={factories:{module:function(a,b,c){a.resolve(c.loadModule(b.options))},create:function(a,b,c){var d,g,h;b=b.options;"string"==typeof b?h=c.loadModule(b):c.resolver.isRef(b)?h=c(b):f.isObject(b)&&b.module?(h=c.loadModule(b.module),d=b.args?c(Array.isArray(b.args)?b.args:[b.args]):[],g=b.isConstructor):h=b;c=r.join(h,d).spread(function(a,b){return"function"==typeof a?e(a,b,g):Object.create(a)});a.resolve(c)},literal:function(a,b){a.resolve(b.options)},
prototype:function(a,b,c){b=b.options;c="string"===typeof b?c.resolveRef(b):c(b);a.resolve(c.then(Object.create))},clone:function(a,b,c){var d,e;c.resolver.isRef(b.options.source)?(d=b.options.source,e=b.options):(d=b.options,e={});d=c(d).then(function(a){return r(c.getProxy(a),function(a){if(!a.clone)throw Error("No clone function found for "+b.id);return a.clone(e)})});a.resolve(d)},compose:function(a,b,c){b=b.options;c="string"==typeof b?j.compose.parse(void 0,b,c):r(c(b),function(a){return j.compose(a)});
a.resolve(c)},invoker:function(a,b,d){b=d(b.options).then(function(a){return c(a.method,a.args)});a.resolve(b)}},facets:{properties:{configure:function(a,b,c){var d,e,g;d=b.options;e=b.set.bind(b);g=r.map(Object.keys(b.options),function(a){return c(d[a],b.path).then(function(b){e(a,b)})});a.resolve(g)}},mixin:{configure:function(a,b,c){var d;d=b.target;b=b.options;Array.isArray(b)||(b=[b]);a.resolve(r.reduce(b,function(a,b){var d=b,d="string"==typeof d?c.resolveRef(d):c(d);return r(d,l.bind(null,
a))},d))}},init:{initialize:m},ready:{ready:m},destroy:{destroy:m}}};t.facets.introduce=t.facets.mixin;return function(){return t}})})("function"==typeof define?define:function(a){module.exports=a(require)});
(function(a){a("wire/lib/scope","require when/when when/sequence wire/lib/array wire/lib/object wire/lib/loader wire/lib/ComponentFactory wire/lib/lifecycle wire/lib/resolver wire/lib/WireProxy wire/lib/plugin/registry".split(" "),function(a,d,f,j,e,c,b,h,l,m){function r(a,b){this.parent=a||{};n.mixin(this,b)}function g(){}var p,t,n;p=d;n=e;t=p.defer;r.prototype={init:function(a){this._inherit(this.parent);this._init();this._configure();return this._startup(a).yield(this)},_inherit:function(a){this.instances=
this._inheritInstances(a);this.components=n.inherit(a.components);this.path=this._createPath(this.name,a.path);this.plugins=a.plugins;this.initializers=j.delegate(this.initializers);this.moduleLoader=c(this.require,a.moduleLoader).load;a.destroyed&&p(a.destroyed,this.destroy.bind(this))},_inheritInstances:function(a){return n.inherit(a.instances)},_createChild:function(a,b){return this.createContext(a,this,b)},_init:function(){this._pluginApi=this._initPluginApi()},_initPluginApi:function(){function a(b,
d){var e,g;e=c._createComponentDef(d);g=c.componentFactory.processComponent(e,b);return c._makeResolvable(e,g)}function b(a,d){c._makeResolvable(c._createComponentDef(d),a);return p.resolve(a)}var c;c=this;return{contextualize:function(d){function e(a,b){return c._resolveItem(c._createComponentDef(b,a))}e.createChild=c._createChild.bind(c);e.loadModule=c.getModule.bind(c);e.resolver=c.resolver;e.addComponent=a;e.addInstance=b;e.resolveRef=function(a){return c._resolveRef(a,1<arguments.length?arguments[2]:
d)};e.getProxy=function(a){return c.getProxy(a,1<arguments.length?arguments[2]:d)};return e}}},_configure:function(){var a,b,c,d;a=this.plugins;b=this._pluginApi;this.resolver=this._createResolver(a,b);this.componentFactory=this._createComponentFactory(a,b);c=this;d=t();this.destroyed=d.promise;this._destroy=function(){this._destroy=g;d.resolve();return this._destroyComponents().then(function(){return c._releaseResources()})}},_startup:function(a){var b=this;return this._executeInitializers().then(function(){var c=
b._parseSpec(a);return b._createComponents(c).then(function(){return b._awaitInstances(c)})})},destroy:function(){return this._destroy()},_destroy:g,_destroyComponents:function(){var a=this.instances;return this.componentFactory.destroy().then(function(){for(var b in a)delete a[b]})},_releaseResources:function(){this.instances=this.components=this.parent=this.resolver=this.componentFactory=this._pluginApi=this.plugins=void 0},getModule:function(a){return"string"==typeof a?this.moduleLoader(a):p.resolve(a)},
getProxy:function(a,b){var c=this.componentFactory;return"string"==typeof a?p(this._resolveRefName(a,{},b),function(a){return c.createProxy(a)}):c.createProxy(a)},_createResolver:function(a,b){return new l(a.resolvers,b)},_createComponentFactory:function(a,c){var d,e,g,f;d=this;f=new h(a,c);e=new b(f,a,c);g=e.initInstance;e.initInstance=function(){return p(g.apply(e,arguments),function(a){return d._makeResolvable(a.metadata,a)})};return e},_executeInitializers:function(){return f(this.initializers,
this)},_parseSpec:function(a){var b,c,d,e,g;b=this.instances;c={};for(e in a)"$plugins"===e||"plugins"===e?d=a[e]:n.hasOwn(b,e)||(g=t(),c[e]=this._createComponentDef(e,a[e],g.resolver),b[e]=g.promise);return{plugins:d,components:c,instances:b}},_createComponentDef:function(a,b,c){return{id:a,spec:b,path:this._createPath(a,this.path),resolver:c}},_createComponents:function(a){var b,c;b=this;c=a.components;return p.map(Object.keys(c),function(a){return b._createScopeItem(c[a])})},_awaitInstances:function(a){var b=
a.instances;return p.map(Object.keys(b),function(a){return b[a]})},_createScopeItem:function(a){var b,c;b=this;c=this._resolveItem(a).then(function(c){b._makeResolvable(a,c);return c});a.resolver.resolve(c);return c},_makeResolvable:function(a,b){var c=a.id;null!=c&&(this.instances[c]=m.getTarget(b));return b},_resolveItem:function(a){var b;b=a.spec;return this.resolver.isRef(b)?this._resolveRef(b,a.id):this._createItem(a)},_createItem:function(a){var b;b=a.spec;return Array.isArray(b)?this._createArray(a):
n.isObject(b)?this._createComponent(a):p.resolve(b)},_createArray:function(a){var b,c,d;b=this;c=a.id;d=0;return p.map(a.spec,function(a){a=b._createComponentDef(c+"["+d++ +"]",a);return b._resolveItem(a)})},_createComponent:function(a){var b=this;return this.componentFactory.create(a).otherwise(function(c){if(c!==a)throw c;return(new r(b)).init(a.spec).then(function(a){return n.mixin({},a.instances)})})},_resolveRef:function(a,b){a=this.resolver.parse(a);return this._doResolveRef(a,(b==a.name&&this.parent.instances?
this.parent:this).instances,b)},_resolveRefName:function(a,b,c){a=this.resolver.create(a,b);return this._doResolveRef(a,this.instances,c)},_doResolveRef:function(a,b,c){return a.resolve(function(a){var c;c=a.split(".");c=2<c.length?p.reject('Only 1 "." is allowed in refs: '+a):p.reduce(c,function(b,c){return c in b?b[c]:p.reject("Cannot resolve ref: "+a)},b);return c},c)},_createPath:function(a,b){var c=b||this.path;return c&&a?c+"."+a:a}};return r})})("function"==typeof define&&define.amd?define:
function(a){module.exports=a(require)});
(function(a){a("cola/Collection",["require","cola/hub/Base","cola/collectionAdapterResolver","cola/network/strategy/default"],function(a,d,f,j){function e(a){c.call(this,a);a||(a={});this.strategy=a.strategy;this.strategy||(this.strategy=b(a.strategyOptions))}var c,b;c=d;b=j;a={add:1,remove:1,target:1,select:1,unselect:1,collect:1,deliver:1};d=Object.create(c.prototype.eventTypes);for(var h in a)d[h]=a[h];e.prototype=Object.create(c.prototype,{eventTypes:{value:d},resolver:{value:f},forEach:{value:function(a){var b=
this.getProvider();return b&&b.forEach(a)}},findItem:{value:function(a){return(a=this._findItemFor(a))&&a.item}},findNode:{value:function(a){return(a=this._findNodeFor(a))&&a.node}},getProvider:{value:function(){for(var a,b=this.adapters.length;a=this.adapters[--b];)if(a.provide)return a}},_findNodeFor:{value:function(a){var b,c,d,e;d=this.adapters;for(c=0;!b&&(e=d[c++]);)e.findNode&&(b=e.findNode(a));return b&&{node:b}}}});return e})})("function"===typeof define?define:function(a){module.exports=
a(require)});(function(a){a("wire/lib/plugin/defaultPlugins",["require","wire/lib/plugin/wirePlugin","wire/lib/plugin/basePlugin"],function(a,d,f){return[d,f]})})("function"===typeof define?define:function(a){module.exports=a(require)});
(function(a){a("wire/lib/Container","require when/when wire/lib/advice wire/lib/WireContext wire/lib/scope wire/lib/plugin/registry wire/lib/plugin/defaultPlugins wire/lib/graph/DirectedGraph wire/lib/graph/trackInflightRefs".split(" "),function(a,d,f,j,e,c,b,h,l){function m(){r.apply(this,arguments)}var r;r=e;a=r.prototype;m.prototype=Object.create(a,{_inheritInstances:{value:function(a){var b={wire:this._createChild.bind(this),destroy:this.destroy.bind(this),resolve:this._resolveRef.bind(this)};
return j.inherit(a.instances,b)}},_init:{value:f.after(a._init,function(){this.plugins=new c;return this._installDefaultPlugins()})},_startup:{value:f.after(a._startup,function(a){var b=this;return d(a).otherwise(function(c){return b._contextEvent("error",c).yield(a)})})},_installDefaultPlugins:{value:function(){return this._installPlugins(b)}},_installPlugins:{value:function(a){function b(a,d){var g;"string"==typeof a?(g=a,a={}):g="string"==typeof a.module?a.module:a;return c.getModule(g).then(function(b){return e.scanModule(b,
a,d)})}if(!a)return d.resolve();var c,e,f;c=this;e=this.plugins;f=Array.isArray(a)?a.map(function(a){return b(a)}):Object.keys(a).map(function(c){return b(a[c],c)});return d.all(f)}},_createResolver:{value:f.after(a._createResolver,function(a){return l(new h,a,this.refCycleTimeout)})},_contextEvent:{value:function(a,b){var c;this.contextEventApi||(this.contextEventApi=this._pluginApi.contextualize(this.path));c=this.contextEventApi;return d.reduce(this.plugins.contextListeners,function(e,f){var h;
return f[a]?(h=d.defer(),f[a](h.resolver,c,b),h.promise):e},void 0)}},_createComponents:{value:f.beforeAsync(a._createComponents,function(a){var b=this;return this._installPlugins(a.plugins).then(function(){return b._contextEvent("initialize")})})},_awaitInstances:{value:f.afterAsync(a._awaitInstances,function(){return this._contextEvent("ready")})},_destroyComponents:{value:f.beforeAsync(a._destroyComponents,function(){return this._contextEvent("shutdown")})},_releaseResources:{value:f.beforeAsync(a._releaseResources,
function(){return this._contextEvent("destroy")})}});return m})})("function"===typeof define?define:function(a){module.exports=a(require)});(function(a){a("wire/lib/context",["require","wire/lib/loader","wire/lib/Container"],function(a,d,f){return function e(a,b,h){h||(h={});b||(b={});h.createContext=e;return d(h.require,b.moduleLoader).merge(a).then(function(a){return(new f(b,h)).init(a).then(function(a){return a.instances})})}})})("function"===typeof define?define:function(a){module.exports=a(require)});
(function(a,q){q("wire/wire",["require","wire/lib/context"],function(d,f){function j(d,f){c||(c=e(a,null,b));return c.then(function(a){return a.wire(d,f)})}var e,c,b;j.version="0.9.2";e=f;b={require:d};j.load=function(a,b,c){var d=c.error||function(a){setTimeout(function(){throw a;},0)};j(a.split(","),{require:b}).then(c,d)};j.pluginBuilder="./builder/rjs";j.cramPlugin="./builder/cram";return j})})(this.wire||{},"function"==typeof define&&define.amd?define:function(a){module.exports=a(require)});
define("app/main","wire/wire wire/dom wire/dom/render app/hello-sample/spec app/contacts-sample/spec app/homepage-sample/spec curl/plugin/i18n!app/subheader/strings app/subheader/selectText curl/plugin/text!app/subheader/template.html curl/plugin/css!highlight/github.css wire/on cola/cola hello/app/main app/tabs/spec cola/Collection cola/adapter/Array highlight/amd!hello/app/template.html highlight/amd!hello/app/controller.js highlight/amd!hello/app/strings.js highlight/amd!hello/app/main.js curl/plugin/text!app/contacts-sample/template.html contacts/app/main highlight/amd!contacts/app/controller.js highlight/amd!contacts/app/list/template.html highlight/amd!contacts/app/edit/template.html highlight/amd!contacts/app/main.js highlight/amd!app/main.js highlight/amd!app/subheader/selectText.js highlight/amd!test/subheader/selectText-test.js hello/app/controller curl/plugin/text!hello/app/template.html curl/plugin/i18n!hello/app/strings.js wire/aop app/tabs/controller curl/plugin/text!app/tabs/tabs.html curl/plugin/css!app/tabs/structure.css curl/plugin/text!app/tabs/stack.html wire/connect contacts/app/collection/spec contacts/app/controller curl/plugin/text!contacts/app/edit/template.html curl/plugin/i18n!contacts/app/edit/strings curl/plugin/css!contacts/app/edit/structure.css curl/plugin/text!contacts/app/list/template.html curl/plugin/css!contacts/app/list/structure.css contacts/app/list/compareByLastFirst curl/plugin/css!contacts/theme/basic.css cola/dom/form contacts/app/collection/validateContact cola/adapter/LocalStorage contacts/app/collection/cleanContact contacts/app/collection/generateMetadata".split(" "),
{helloSample:{wire:"app/hello-sample/spec"},contactsSample:{wire:"app/contacts-sample/spec"},homepageSample:{wire:"app/homepage-sample/spec"},subheaderStrings:{module:"i18n!app/subheader/strings"},subheaderText:{create:{module:"app/subheader/selectText",args:{$ref:"subheaderStrings.phrases"}}},subheader:{render:{template:{module:"text!app/subheader/template.html"},replace:{text:{$ref:"subheaderText"}},at:{$ref:"first!.subheader"}}},highlightTheme:{module:"css!highlight/github.css"},$plugins:[{module:"wire/dom",
classes:{init:"loading"}},"wire/dom/render"]});
}).call(this);
